{"version":3,"sources":["kendo.pdf.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","pdf","supportsDeflate","pako","deflate","data","BinaryStream","eof","offset","readByte","writeByte","b","ensure","readShort","writeShort","w","readShort_","writeShort_","readLong","writeLong","readLong_","writeLong_","readFixed","writeFixed","Math","round","readFixed_","writeFixed_","read","len","times","readString","fromCharCode","apply","writeString","n","reader","ret","Array","write","slice","stream","HAS_TYPED_ARRAYS$1","Uint8Array","tmp","max","set","buffer","bytes","start","x","pos","skip","nbytes","toString","Error","saveExcursion","writeBase64","base64","atob","BASE64","decode","encode","ucs2decode","string","extra","output","counter","ucs2encode","array","hasOwnProperty$1","obj","Object","prototype","hasOwnProperty","call","sortedKeys","keys","a","parseFloat","Directory","tables","raw","scalerType","tableCount","searchRange","entrySelector","rangeShift","tag","checksum","deftable","methods","Ctor","file","def","definition","rawData","parse","nextSubsetTag","subsetTag","Subfont","font","subset","unicodes","ogid2ngid","0","ngid2ogid","ncid2ogid","next","firstChar","nextGid","psName","TTFFont","name","numFonts","self","contents","makeOutput","out","num","arguments$1","arguments","undefined","PDFValue","beforeRender","render","isArray","renderArray","isDate","renderDate","isNaN","toFixed","indexOf","test","PDFDictionary","indentLevel","writeData","withIndent","indent","NL","pad","wrapObject","id","renderValue","renderFull","_offset","getPaperOptions","getOption","paperSize","margin","PAPER_SIZE","a4","toLowerCase","unitsToPoints","min","left","top","right","bottom","PDFDocument","defval","catalog","pageTree","nameTree","info","objcount","objects","attach","pages","FONTS","IMAGES","GRAD_COL_FUNCTIONS","GRAD_OPC_FUNCTIONS","GRAD_COL","GRAD_OPC","PDFCatalog","PDFPageTree","JavaScript","Names","PDFString","S","_","JS","props","setPages","Producer","Title","Author","Subject","Keywords","Creator","CreationDate","Date","addPage","content","page","paperOptions","contentWidth","contentHeight","PDFStream","Contents","Parent","MediaBox","PDFPage","_content","transform","translate","rect","clip","xrefOffset","zeropad","Size","Root","Info","loadBinary","url","cont","error","console","log","req","XMLHttpRequest","open","HAS_TYPED_ARRAYS","responseType","onload","status","response","VBArray","responseBody","toArray","onerror","send","loadFont","FONT_CACHE","clearImageCache","IMAGE_CACHE","loadImage","_load","img","src","complete","browser","msie","_onload","_onerror","canvas","ctx","imgdata","hasAlpha","rgb","alpha","rawbytes","blob","type","FileReader","PDFJpegImage","result","URL","revokeObjectURL","bloburl","readAsArrayBuffer","getContext","drawImage","getImageData","ex","PDFRawImage","toDataURL","substr","xhr","Image","crossOrigin","createObjectURL","manyLoader","loadOne","urls","callback","ch","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","mm2pt","mm","cm2pt","cm","in2pt","inch","m","exec","in","defclass","proto","Base","PDFName_cache","PDFName","colorSpace","bitsPerComponent","soi","ff","SOF_CODES","Type","Subtype","Width","Height","BitsPerComponent","Filter","ColorSpace","Decode","asStream","_resourceName","RESOURCE_COUNTER","mask","SMask","makeHash","cacheColorGradientFunction","r1","g1","b1","r2","g2","b2","func","FunctionType","Domain","Range","N","C0","C1","cacheOpacityGradientFunction","makeGradientFunctions","stops","assemble","funcs","Functions","Bounds","offsets","Encode","prev","cur","prevColor","curColor","opacities","colors","color","r","g","pop","cacheColorGradient","isRadial","coords","shading","concat","forEach","ShadingType","Coords","Function","Extend","cacheOpacityGradient","opacity","AIS","CA","ca","G","FormType","BBox","Group","CS","I","Resources","ExtGState","a0","Shading","s0","cacheGradient","gradient","y","end","userSpace","unquote","parseFontDef","fontdef","fontSize","rx","parseInt","italic","variant","bold","lineHeight","fontFamily","split","getFontURL","mkFamily","FONT_MAPPINGS","fontAlias","alias","defineFont","mmul","c1","d1","e1","f1","c2","d2","e2","f2","isIdentityMatrix","group","doIt","drawPage","addMargin","origin","optimize","bbox","root","getSize","getOrigin","drawing","kendoGeometry","Matrix","append","landscape","drawElement","count","producer","title","author","subject","keywords","creator","autoPrint","multiPage","children","fonts","images","imgDPI","traverse","element","dispatch","ceil","Text","loadFonts","loadImages","toBlob","Blob","saveAs$1","filename","proxy","supportBrowser","safari","saveAs","dataURI","fileName","dataURL","proxyURL","handlers","handler","nodeType","_pdfDebug","comment","save","setOpacity","setStrokeOptions","setFillOptions","matrix","c","d","e","setClipping","Path","drawPath","MultiPath","drawMultiPath","Circle","drawCircle","Arc","drawArc","drawText","drawGroup","Rect","drawRect","restore","dashType","lineCap","lineJoin","stroke","parseColor$1","setStrokeColor","setStrokeOpacity","setLineWidth","setDashPattern","DASH_PATTERNS","setLineCap","LINE_CAP","setLineJoin","LINE_JOIN","fill","Gradient","setFillColor","setFillOpacity","_drawPath","shouldDraw","thing","maybeGradient","tl","clipStroke","RadialGradient","center","radius","elements","stop","unshift","rawBBox","topLeft","maybeFillStroke","fillStroke","nop","maybeDrawRect","path","isRect","segments","closed","controlIn","anchor","seg","prevOut","controlOut","bezier","lineTo","moveTo","close","paths","geometry","circle","points","curvePoints","mode","_position","TEXT_RENDERING_MODE$1","fillAndStroke","beginText","setFont","setTextRenderingMode","showText","_pdfRect","endText","_pdfLink","addLink","sz","parseColor","toRGB","change","newShape","changed","visible","shape","optArray","el","opt","withClipping","saveclipbox","clipbox","savematrix","multiplyCopy","intersect","inClipbox","currentBox","union","unit","exportPDF","promise","createPromise","_ignoreMargin","resolve","support","kendoPdf","HeadTable","LocaTable","HheaTable","MaxpTable","HmtxTable","GlyfTable","NameTable","PostTable","CmapTable","OS2Table","PDFHexString","PDFStandardFont","PDFFont","PDFToUnicodeCmap","TEXT_RENDERING_MODE","keyStr","enc1","enc2","enc3","enc4","chr1","chr2","chr3","input","charAt","readTable","table","directoryLength","headOffset","tableData","sum","adjustment","this$1","maxpow2","pow","floor","LN2","version","revision","checkSumAdjustment","magicNumber","flags","unitsPerEm","created","modified","xMin","yMin","xMax","yMax","macStyle","lowestRecPPEM","fontDirectionHint","indexToLocFormat","glyphDataFormat","format","head","offsetOf","lengthOf","needsLongFormat","ascent","descent","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","metricDataFormat","numOfLongHorMetrics","ids","numGlyphs","maxPoints","maxContours","maxComponentPoints","maxComponentContours","maxZones","maxTwilightPoints","maxStorage","maxFunctionDefs","maxInstructionDefs","maxStackElements","maxSizeOfInstructions","maxComponentElements","maxComponentDepth","glyphIds","dir","hhea","lsbCount","metrics","advance","lsb","maxp","leftSideBearings","forGlyph","SimpleGlyph","CompoundGlyph","idOffsets","MORE_COMPONENTS","ARG_1_AND_2_ARE_WORDS","WE_HAVE_A_TWO_BY_TWO","WE_HAVE_AN_X_AND_Y_SCALE","WE_HAVE_A_SCALE","compound","old2new","cache","glyphFor","loca","numberOfContours","glyph","glyphs","oldIds","NameEntry","platformID","platformSpecificID","languageID","nameID","stringOffset","nameRecords","strings","rec","postscriptEntry","postscriptName","strTable","list","j","strCount","POSTSCRIPT_GLYPHS","numberOfGlyphs","limit","italicAngle","underlinePosition","underlineThickness","isFixedPitch","minMemType42","maxMemType42","minMemType1","maxMemType1","glyphNameIndex","names","code","index","mapping","indexes","post","CmapEntry","codeMap","segCount","endCode","startCode","idDelta","idRangeOffset","glyphId","ngroups","endCharCode","glyphCode","language","renderCharmap","new_gid","charcode","gid","delta","segCountX2","deltas","rangeOffsets","startGlyph","codes","startCodes","endCodes","last","diff","averageCharWidth","weightClass","widthClass","ySubscriptXSize","ySubscriptYSize","ySubscriptXOffset","ySubscriptYOffset","ySuperscriptXSize","ySuperscriptYSize","ySuperscriptXOffset","ySuperscriptYOffset","yStrikeoutSize","yStrikeoutPosition","familyClass","panose","charRange","vendorID","selection","firstCharIndex","lastCharIndex","winAscent","winDescent","codePageRange","xHeight","capHeight","defaultChar","breakChar","maxContext","use","old_gid","reduce","cmap","encodeText","glyphsFor","glyf","new_gid_ids","old_gid_ids","lastChar","hmtx","OS/2","os2","directory","cidToGidMap","cid","scale","widthOfGlyph","makeSubset","a5","a6","a7","a8","a9","a10","b0","b3","b4","b5","b6","b7","b8","b9","b10","c0","c3","c4","c5","c6","c7","c8","c9","c10","executive","folio","legal","letter","tabloid","Times-Roman","Times-Bold","Times-Italic","Times-BoldItalic","Helvetica","Helvetica-Bold","Helvetica-Oblique","Helvetica-BoldOblique","Courier","Courier-Bold","Courier-Oblique","Courier-BoldOblique","Symbol","ZapfDingbats","getFont","getImage","getOpacityGS","forStroke","gs","_opacityGSCache","dict","txt","val","escape","empty","compress","Length","pagesObj","Pages","Kids","Count","pageObj","BaseFont","Encoding","_pdf","_font","_sub","stemV","isSerif","isScript","getTextWidth","descendant","unimap","unimapStream","sub","fontStream","Length1","descriptor","FontName","FontBBox","Flags","StemV","ItalicAngle","Ascent","Descent","CapHeight","XHeight","FontFile2","charWidths","loop","chunk","CIDSystemInfo","Registry","Ordering","Supplement","FontDescriptor","FirstChar","LastChar","DW","W","CIDToGIDMap","_makeCidToGidMap","DescendantFonts","ToUnicode","unicode","_rcount","_textMode","_fontResources","_gsResources","_xResources","_patResources","_shResources","_opacity","_matrix","_annotations","_fontSize","_contextStack","ProcSet","Font","XObject","Pattern","Annots","_out","dx","dy","sx","sy","rotate","angle","cos","sin","_requireTextMode","_requireFont","setTextLeading","requestedWidth","outputWidth","showTextNL","uri","ll","_toPage","ur","Border","A","URI","sname","oname","dashArray","dashPhase","setMitterLimit","mitterLimit","_context","x1","y1","x2","y2","x3","y3","bezier1","bezier2","h","ellipse","ry","_X","v","_Y","k","closeStroke","line","p","serif","serif|bold","serif|italic","serif|bold|italic","sans-serif","sans-serif|bold","sans-serif|italic","sans-serif|bold|italic","monospace","monospace|bold","monospace|italic","monospace|bold|italic","zapfdingbats","zapfdingbats|bold","zapfdingbats|italic","zapfdingbats|bold|italic","invisible","fillAndClip","strokeAndClip","fillStrokeClip","dash","dashDot","dot","longDash","longDashDot","longDashDotDot","solid","butt","square","miter","bevel","Document","PDFMixin","events","saveAsPDF","_drawPDF","_drawPDFShadow","allPages","progress","Deferred","args","trigger","then","done","forceProxy","proxyTarget","fail","err","reject","drawDOM","wrapper","pageNumber","totalPages","notify","settings","drawOptions","shadow","defer","css","overflow","before","clone","setTimeout","always","remove"],"mappings":"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","file":"kendo.pdf.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/pako', ['kendo.core'], f);\n}(function () {\n    (function () {\n        kendo.pdf = kendo.pdf || {};\n        kendo.pdf.supportsDeflate = function () {\n            return window.pako && typeof window.pako.deflate == 'function';\n        };\n        kendo.pdf.deflate = function (data) {\n            return window.pako.deflate(data);\n        };\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/core', [\n        'pdf/pako',\n        'kendo.core',\n        'kendo.color',\n        'kendo.drawing'\n    ], f);\n}(function () {\n    (function (kendo) {\n        window.kendo.pdf = window.kendo.pdf || {};\n        var support = kendo.support;\n        var supportBrowser = support.browser;\n        var kendoPdf = kendo.pdf;\n        var drawing = kendo.drawing;\n        var util = drawing.util;\n        var kendoGeometry = kendo.geometry;\n        var HAS_TYPED_ARRAYS$1 = typeof Uint8Array !== 'undefined';\n        var BASE64 = function () {\n            var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n            return {\n                decode: function (str) {\n                    var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, ''), i = 0, n = input.length, output = [];\n                    while (i < n) {\n                        var enc1 = keyStr.indexOf(input.charAt(i++));\n                        var enc2 = keyStr.indexOf(input.charAt(i++));\n                        var enc3 = keyStr.indexOf(input.charAt(i++));\n                        var enc4 = keyStr.indexOf(input.charAt(i++));\n                        var chr1 = enc1 << 2 | enc2 >>> 4;\n                        var chr2 = (enc2 & 15) << 4 | enc3 >>> 2;\n                        var chr3 = (enc3 & 3) << 6 | enc4;\n                        output.push(chr1);\n                        if (enc3 != 64) {\n                            output.push(chr2);\n                        }\n                        if (enc4 != 64) {\n                            output.push(chr3);\n                        }\n                    }\n                    return output;\n                },\n                encode: function (bytes) {\n                    var i = 0, n = bytes.length;\n                    var output = '';\n                    while (i < n) {\n                        var chr1 = bytes[i++];\n                        var chr2 = bytes[i++];\n                        var chr3 = bytes[i++];\n                        var enc1 = chr1 >>> 2;\n                        var enc2 = (chr1 & 3) << 4 | chr2 >>> 4;\n                        var enc3 = (chr2 & 15) << 2 | chr3 >>> 6;\n                        var enc4 = chr3 & 63;\n                        if (i - n == 2) {\n                            enc3 = enc4 = 64;\n                        } else if (i - n == 1) {\n                            enc4 = 64;\n                        }\n                        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n                    }\n                    return output;\n                }\n            };\n        }();\n        function BinaryStream(data) {\n            var offset = 0, length = 0;\n            if (data == null) {\n                data = HAS_TYPED_ARRAYS$1 ? new Uint8Array(256) : [];\n            } else {\n                length = data.length;\n            }\n            var ensure = HAS_TYPED_ARRAYS$1 ? function (len) {\n                if (len >= data.length) {\n                    var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n                    tmp.set(data, 0);\n                    data = tmp;\n                }\n            } : function () {\n            };\n            var get = HAS_TYPED_ARRAYS$1 ? function () {\n                return new Uint8Array(data.buffer, 0, length);\n            } : function () {\n                return data;\n            };\n            var write = HAS_TYPED_ARRAYS$1 ? function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                var len = bytes.length;\n                ensure(offset + len);\n                data.set(bytes, offset);\n                offset += len;\n                if (offset > length) {\n                    length = offset;\n                }\n            } : function (bytes) {\n                if (typeof bytes == 'string') {\n                    return writeString(bytes);\n                }\n                for (var i = 0; i < bytes.length; ++i) {\n                    writeByte(bytes[i]);\n                }\n            };\n            var slice = HAS_TYPED_ARRAYS$1 ? function (start, length) {\n                if (data.buffer.slice) {\n                    return new Uint8Array(data.buffer.slice(start, start + length));\n                } else {\n                    var x = new Uint8Array(length);\n                    x.set(new Uint8Array(data.buffer, start, length));\n                    return x;\n                }\n            } : function (start, length) {\n                return data.slice(start, start + length);\n            };\n            function eof() {\n                return offset >= length;\n            }\n            function readByte() {\n                return offset < length ? data[offset++] : 0;\n            }\n            function writeByte(b) {\n                ensure(offset);\n                data[offset++] = b & 255;\n                if (offset > length) {\n                    length = offset;\n                }\n            }\n            function readShort() {\n                return readByte() << 8 | readByte();\n            }\n            function writeShort(w) {\n                writeByte(w >> 8);\n                writeByte(w);\n            }\n            function readShort_() {\n                var w = readShort();\n                return w >= 32768 ? w - 65536 : w;\n            }\n            function writeShort_(w) {\n                writeShort(w < 0 ? w + 65536 : w);\n            }\n            function readLong() {\n                return readShort() * 65536 + readShort();\n            }\n            function writeLong(w) {\n                writeShort(w >>> 16 & 65535);\n                writeShort(w & 65535);\n            }\n            function readLong_() {\n                var w = readLong();\n                return w >= 2147483648 ? w - 4294967296 : w;\n            }\n            function writeLong_(w) {\n                writeLong(w < 0 ? w + 4294967296 : w);\n            }\n            function readFixed() {\n                return readLong() / 65536;\n            }\n            function writeFixed(f) {\n                writeLong(Math.round(f * 65536));\n            }\n            function readFixed_() {\n                return readLong_() / 65536;\n            }\n            function writeFixed_(f) {\n                writeLong_(Math.round(f * 65536));\n            }\n            function read(len) {\n                return times(len, readByte);\n            }\n            function readString(len) {\n                return String.fromCharCode.apply(String, read(len));\n            }\n            function writeString(str) {\n                for (var i = 0; i < str.length; ++i) {\n                    writeByte(str.charCodeAt(i));\n                }\n            }\n            function times(n, reader) {\n                for (var ret = new Array(n), i = 0; i < n; ++i) {\n                    ret[i] = reader();\n                }\n                return ret;\n            }\n            var stream = {\n                eof: eof,\n                readByte: readByte,\n                writeByte: writeByte,\n                readShort: readShort,\n                writeShort: writeShort,\n                readLong: readLong,\n                writeLong: writeLong,\n                readFixed: readFixed,\n                writeFixed: writeFixed,\n                readShort_: readShort_,\n                writeShort_: writeShort_,\n                readLong_: readLong_,\n                writeLong_: writeLong_,\n                readFixed_: readFixed_,\n                writeFixed_: writeFixed_,\n                read: read,\n                write: write,\n                readString: readString,\n                writeString: writeString,\n                times: times,\n                get: get,\n                slice: slice,\n                offset: function (pos) {\n                    if (pos != null) {\n                        offset = pos;\n                        return stream;\n                    }\n                    return offset;\n                },\n                skip: function (nbytes) {\n                    offset += nbytes;\n                },\n                toString: function () {\n                    throw new Error('FIX CALLER.  BinaryStream is no longer convertible to string!');\n                },\n                length: function () {\n                    return length;\n                },\n                saveExcursion: function (f) {\n                    var pos = offset;\n                    try {\n                        return f();\n                    } finally {\n                        offset = pos;\n                    }\n                },\n                writeBase64: function (base64) {\n                    if (window.atob) {\n                        writeString(window.atob(base64));\n                    } else {\n                        write(BASE64.decode(base64));\n                    }\n                },\n                base64: function () {\n                    return BASE64.encode(get());\n                }\n            };\n            return stream;\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function hasOwnProperty$1(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function sortedKeys(obj) {\n            return Object.keys(obj).sort(function (a, b) {\n                return a - b;\n            }).map(parseFloat);\n        }\n        function Directory(data) {\n            this.raw = data;\n            this.scalerType = data.readLong();\n            this.tableCount = data.readShort();\n            this.searchRange = data.readShort();\n            this.entrySelector = data.readShort();\n            this.rangeShift = data.readShort();\n            var tables = this.tables = {};\n            for (var i = 0; i < this.tableCount; ++i) {\n                var entry = {\n                    tag: data.readString(4),\n                    checksum: data.readLong(),\n                    offset: data.readLong(),\n                    length: data.readLong()\n                };\n                tables[entry.tag] = entry;\n            }\n        }\n        Directory.prototype = {\n            readTable: function (name, Ctor) {\n                var def = this.tables[name];\n                if (!def) {\n                    throw new Error('Table ' + name + ' not found in directory');\n                }\n                return this[name] = def.table = new Ctor(this, def);\n            },\n            render: function (tables) {\n                var this$1 = this;\n                var tableCount = Object.keys(tables).length;\n                var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));\n                var searchRange = maxpow2 * 16;\n                var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);\n                var rangeShift = tableCount * 16 - searchRange;\n                var out = BinaryStream();\n                out.writeLong(this.scalerType);\n                out.writeShort(tableCount);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                var directoryLength = tableCount * 16;\n                var offset = out.offset() + directoryLength;\n                var headOffset = null;\n                var tableData = BinaryStream();\n                for (var tag in tables) {\n                    if (hasOwnProperty$1(tables, tag)) {\n                        var table = tables[tag];\n                        out.writeString(tag);\n                        out.writeLong(this$1.checksum(table));\n                        out.writeLong(offset);\n                        out.writeLong(table.length);\n                        tableData.write(table);\n                        if (tag == 'head') {\n                            headOffset = offset;\n                        }\n                        offset += table.length;\n                        while (offset % 4) {\n                            tableData.writeByte(0);\n                            offset++;\n                        }\n                    }\n                }\n                out.write(tableData.get());\n                var sum = this.checksum(out.get());\n                var adjustment = 2981146554 - sum;\n                out.offset(headOffset + 8);\n                out.writeLong(adjustment);\n                return out.get();\n            },\n            checksum: function (data) {\n                data = BinaryStream(data);\n                var sum = 0;\n                while (!data.eof()) {\n                    sum += data.readLong();\n                }\n                return sum & 4294967295;\n            }\n        };\n        function deftable(methods) {\n            function Ctor(file, def) {\n                this.definition = def;\n                this.length = def.length;\n                this.offset = def.offset;\n                this.file = file;\n                this.rawData = file.raw;\n                this.parse(file.raw);\n            }\n            Ctor.prototype.raw = function () {\n                return this.rawData.slice(this.offset, this.length);\n            };\n            for (var i in methods) {\n                if (hasOwnProperty$1(methods, i)) {\n                    Ctor[i] = Ctor.prototype[i] = methods[i];\n                }\n            }\n            return Ctor;\n        }\n        var HeadTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.revision = data.readLong();\n                this.checkSumAdjustment = data.readLong();\n                this.magicNumber = data.readLong();\n                this.flags = data.readShort();\n                this.unitsPerEm = data.readShort();\n                this.created = data.read(8);\n                this.modified = data.read(8);\n                this.xMin = data.readShort_();\n                this.yMin = data.readShort_();\n                this.xMax = data.readShort_();\n                this.yMax = data.readShort_();\n                this.macStyle = data.readShort();\n                this.lowestRecPPEM = data.readShort();\n                this.fontDirectionHint = data.readShort_();\n                this.indexToLocFormat = data.readShort_();\n                this.glyphDataFormat = data.readShort_();\n            },\n            render: function (indexToLocFormat) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeLong(this.revision);\n                out.writeLong(0);\n                out.writeLong(this.magicNumber);\n                out.writeShort(this.flags);\n                out.writeShort(this.unitsPerEm);\n                out.write(this.created);\n                out.write(this.modified);\n                out.writeShort_(this.xMin);\n                out.writeShort_(this.yMin);\n                out.writeShort_(this.xMax);\n                out.writeShort_(this.yMax);\n                out.writeShort(this.macStyle);\n                out.writeShort(this.lowestRecPPEM);\n                out.writeShort_(this.fontDirectionHint);\n                out.writeShort_(indexToLocFormat);\n                out.writeShort_(this.glyphDataFormat);\n                return out.get();\n            }\n        });\n        var LocaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var format = this.file.head.indexToLocFormat;\n                if (format === 0) {\n                    this.offsets = data.times(this.length / 2, function () {\n                        return 2 * data.readShort();\n                    });\n                } else {\n                    this.offsets = data.times(this.length / 4, data.readLong);\n                }\n            },\n            offsetOf: function (id) {\n                return this.offsets[id];\n            },\n            lengthOf: function (id) {\n                return this.offsets[id + 1] - this.offsets[id];\n            },\n            render: function (offsets) {\n                var out = BinaryStream();\n                var needsLongFormat = offsets[offsets.length - 1] > 65535;\n                for (var i = 0; i < offsets.length; ++i) {\n                    if (needsLongFormat) {\n                        out.writeLong(offsets[i]);\n                    } else {\n                        out.writeShort(offsets[i] / 2);\n                    }\n                }\n                return {\n                    format: needsLongFormat ? 1 : 0,\n                    table: out.get()\n                };\n            }\n        });\n        var HheaTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.ascent = data.readShort_();\n                this.descent = data.readShort_();\n                this.lineGap = data.readShort_();\n                this.advanceWidthMax = data.readShort();\n                this.minLeftSideBearing = data.readShort_();\n                this.minRightSideBearing = data.readShort_();\n                this.xMaxExtent = data.readShort_();\n                this.caretSlopeRise = data.readShort_();\n                this.caretSlopeRun = data.readShort_();\n                this.caretOffset = data.readShort_();\n                data.skip(4 * 2);\n                this.metricDataFormat = data.readShort_();\n                this.numOfLongHorMetrics = data.readShort();\n            },\n            render: function (ids) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort_(this.ascent);\n                out.writeShort_(this.descent);\n                out.writeShort_(this.lineGap);\n                out.writeShort(this.advanceWidthMax);\n                out.writeShort_(this.minLeftSideBearing);\n                out.writeShort_(this.minRightSideBearing);\n                out.writeShort_(this.xMaxExtent);\n                out.writeShort_(this.caretSlopeRise);\n                out.writeShort_(this.caretSlopeRun);\n                out.writeShort_(this.caretOffset);\n                out.write([\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0,\n                    0\n                ]);\n                out.writeShort_(this.metricDataFormat);\n                out.writeShort(ids.length);\n                return out.get();\n            }\n        });\n        var MaxpTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readLong();\n                this.numGlyphs = data.readShort();\n                this.maxPoints = data.readShort();\n                this.maxContours = data.readShort();\n                this.maxComponentPoints = data.readShort();\n                this.maxComponentContours = data.readShort();\n                this.maxZones = data.readShort();\n                this.maxTwilightPoints = data.readShort();\n                this.maxStorage = data.readShort();\n                this.maxFunctionDefs = data.readShort();\n                this.maxInstructionDefs = data.readShort();\n                this.maxStackElements = data.readShort();\n                this.maxSizeOfInstructions = data.readShort();\n                this.maxComponentElements = data.readShort();\n                this.maxComponentDepth = data.readShort();\n            },\n            render: function (glyphIds) {\n                var out = BinaryStream();\n                out.writeLong(this.version);\n                out.writeShort(glyphIds.length);\n                out.writeShort(this.maxPoints);\n                out.writeShort(this.maxContours);\n                out.writeShort(this.maxComponentPoints);\n                out.writeShort(this.maxComponentContours);\n                out.writeShort(this.maxZones);\n                out.writeShort(this.maxTwilightPoints);\n                out.writeShort(this.maxStorage);\n                out.writeShort(this.maxFunctionDefs);\n                out.writeShort(this.maxInstructionDefs);\n                out.writeShort(this.maxStackElements);\n                out.writeShort(this.maxSizeOfInstructions);\n                out.writeShort(this.maxComponentElements);\n                out.writeShort(this.maxComponentDepth);\n                return out.get();\n            }\n        });\n        var HmtxTable = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                var dir = this.file, hhea = dir.hhea;\n                this.metrics = data.times(hhea.numOfLongHorMetrics, function () {\n                    return {\n                        advance: data.readShort(),\n                        lsb: data.readShort_()\n                    };\n                });\n                var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;\n                this.leftSideBearings = data.times(lsbCount, data.readShort_);\n            },\n            forGlyph: function (id) {\n                var metrics = this.metrics;\n                var n = metrics.length;\n                if (id < n) {\n                    return metrics[id];\n                }\n                return {\n                    advance: metrics[n - 1].advance,\n                    lsb: this.leftSideBearings[id - n]\n                };\n            },\n            render: function (glyphIds) {\n                var this$1 = this;\n                var out = BinaryStream();\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var m = this$1.forGlyph(glyphIds[i]);\n                    out.writeShort(m.advance);\n                    out.writeShort_(m.lsb);\n                }\n                return out.get();\n            }\n        });\n        var GlyfTable = function () {\n            function SimpleGlyph(raw) {\n                this.raw = raw;\n            }\n            SimpleGlyph.prototype = {\n                compound: false,\n                render: function () {\n                    return this.raw.get();\n                }\n            };\n            var ARG_1_AND_2_ARE_WORDS = 1;\n            var WE_HAVE_A_SCALE = 8;\n            var MORE_COMPONENTS = 32;\n            var WE_HAVE_AN_X_AND_Y_SCALE = 64;\n            var WE_HAVE_A_TWO_BY_TWO = 128;\n            function CompoundGlyph(data) {\n                this.raw = data;\n                var ids = this.glyphIds = [];\n                var offsets = this.idOffsets = [];\n                while (true) {\n                    var flags = data.readShort();\n                    offsets.push(data.offset());\n                    ids.push(data.readShort());\n                    if (!(flags & MORE_COMPONENTS)) {\n                        break;\n                    }\n                    data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);\n                    if (flags & WE_HAVE_A_TWO_BY_TWO) {\n                        data.skip(8);\n                    } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {\n                        data.skip(4);\n                    } else if (flags & WE_HAVE_A_SCALE) {\n                        data.skip(2);\n                    }\n                }\n            }\n            CompoundGlyph.prototype = {\n                compound: true,\n                render: function (old2new) {\n                    var this$1 = this;\n                    var out = BinaryStream(this.raw.get());\n                    for (var i = 0; i < this.glyphIds.length; ++i) {\n                        var id = this$1.glyphIds[i];\n                        out.offset(this$1.idOffsets[i]);\n                        out.writeShort(old2new[id]);\n                    }\n                    return out.get();\n                }\n            };\n            return deftable({\n                parse: function () {\n                    this.cache = {};\n                },\n                glyphFor: function (id) {\n                    var cache = this.cache;\n                    if (hasOwnProperty$1(cache, id)) {\n                        return cache[id];\n                    }\n                    var loca = this.file.loca;\n                    var length = loca.lengthOf(id);\n                    if (length === 0) {\n                        return cache[id] = null;\n                    }\n                    var data = this.rawData;\n                    var offset = this.offset + loca.offsetOf(id);\n                    var raw = BinaryStream(data.slice(offset, length));\n                    var numberOfContours = raw.readShort_();\n                    var xMin = raw.readShort_();\n                    var yMin = raw.readShort_();\n                    var xMax = raw.readShort_();\n                    var yMax = raw.readShort_();\n                    var glyph = cache[id] = numberOfContours == -1 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);\n                    glyph.numberOfContours = numberOfContours;\n                    glyph.xMin = xMin;\n                    glyph.yMin = yMin;\n                    glyph.xMax = xMax;\n                    glyph.yMax = yMax;\n                    return glyph;\n                },\n                render: function (glyphs, oldIds, old2new) {\n                    var out = BinaryStream(), offsets = [];\n                    for (var i = 0; i < oldIds.length; ++i) {\n                        var id = oldIds[i];\n                        var glyph = glyphs[id];\n                        offsets.push(out.offset());\n                        if (glyph) {\n                            out.write(glyph.render(old2new));\n                        }\n                    }\n                    offsets.push(out.offset());\n                    return {\n                        table: out.get(),\n                        offsets: offsets\n                    };\n                }\n            });\n        }();\n        var NameTable = function () {\n            function NameEntry(text, entry) {\n                this.text = text;\n                this.length = text.length;\n                this.platformID = entry.platformID;\n                this.platformSpecificID = entry.platformSpecificID;\n                this.languageID = entry.languageID;\n                this.nameID = entry.nameID;\n            }\n            return deftable({\n                parse: function (data) {\n                    data.offset(this.offset);\n                    data.readShort();\n                    var count = data.readShort();\n                    var stringOffset = this.offset + data.readShort();\n                    var nameRecords = data.times(count, function () {\n                        return {\n                            platformID: data.readShort(),\n                            platformSpecificID: data.readShort(),\n                            languageID: data.readShort(),\n                            nameID: data.readShort(),\n                            length: data.readShort(),\n                            offset: data.readShort() + stringOffset\n                        };\n                    });\n                    var strings = this.strings = {};\n                    for (var i = 0; i < nameRecords.length; ++i) {\n                        var rec = nameRecords[i];\n                        data.offset(rec.offset);\n                        var text = data.readString(rec.length);\n                        if (!strings[rec.nameID]) {\n                            strings[rec.nameID] = [];\n                        }\n                        strings[rec.nameID].push(new NameEntry(text, rec));\n                    }\n                    this.postscriptEntry = strings[6][0];\n                    this.postscriptName = this.postscriptEntry.text.replace(/[^\\x20-\\x7F]/g, '');\n                },\n                render: function (psName) {\n                    var this$1 = this;\n                    var strings = this.strings;\n                    var strCount = 0;\n                    for (var i in strings) {\n                        if (hasOwnProperty$1(strings, i)) {\n                            strCount += strings[i].length;\n                        }\n                    }\n                    var out = BinaryStream();\n                    var strTable = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(strCount);\n                    out.writeShort(6 + 12 * strCount);\n                    for (i in strings) {\n                        if (hasOwnProperty$1(strings, i)) {\n                            var list = i == 6 ? [new NameEntry(psName, this$1.postscriptEntry)] : strings[i];\n                            for (var j = 0; j < list.length; ++j) {\n                                var str = list[j];\n                                out.writeShort(str.platformID);\n                                out.writeShort(str.platformSpecificID);\n                                out.writeShort(str.languageID);\n                                out.writeShort(str.nameID);\n                                out.writeShort(str.length);\n                                out.writeShort(strTable.offset());\n                                strTable.writeString(str.text);\n                            }\n                        }\n                    }\n                    out.write(strTable.get());\n                    return out.get();\n                }\n            });\n        }();\n        var PostTable = function () {\n            var POSTSCRIPT_GLYPHS = '.notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat'.split(/\\s+/g);\n            return deftable({\n                parse: function (data) {\n                    var this$1 = this;\n                    data.offset(this.offset);\n                    this.format = data.readLong();\n                    this.italicAngle = data.readFixed_();\n                    this.underlinePosition = data.readShort_();\n                    this.underlineThickness = data.readShort_();\n                    this.isFixedPitch = data.readLong();\n                    this.minMemType42 = data.readLong();\n                    this.maxMemType42 = data.readLong();\n                    this.minMemType1 = data.readLong();\n                    this.maxMemType1 = data.readLong();\n                    var numberOfGlyphs;\n                    switch (this.format) {\n                    case 65536:\n                    case 196608:\n                        break;\n                    case 131072:\n                        numberOfGlyphs = data.readShort();\n                        this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);\n                        this.names = [];\n                        var limit = this.offset + this.length;\n                        while (data.offset() < limit) {\n                            this$1.names.push(data.readString(data.readByte()));\n                        }\n                        break;\n                    case 151552:\n                        numberOfGlyphs = data.readShort();\n                        this.offsets = data.read(numberOfGlyphs);\n                        break;\n                    case 262144:\n                        this.map = data.times(this.file.maxp.numGlyphs, data.readShort);\n                        break;\n                    }\n                },\n                glyphFor: function (code) {\n                    switch (this.format) {\n                    case 65536:\n                        return POSTSCRIPT_GLYPHS[code] || '.notdef';\n                    case 131072:\n                        var index = this.glyphNameIndex[code];\n                        if (index < POSTSCRIPT_GLYPHS.length) {\n                            return POSTSCRIPT_GLYPHS[index];\n                        }\n                        return this.names[index - POSTSCRIPT_GLYPHS.length] || '.notdef';\n                    case 151552:\n                    case 196608:\n                        return '.notdef';\n                    case 262144:\n                        return this.map[code] || 65535;\n                    }\n                },\n                render: function (mapping) {\n                    var this$1 = this;\n                    if (this.format == 196608) {\n                        return this.raw();\n                    }\n                    var out = BinaryStream(this.rawData.slice(this.offset, 32));\n                    out.writeLong(131072);\n                    out.offset(32);\n                    var indexes = [];\n                    var strings = [];\n                    for (var i = 0; i < mapping.length; ++i) {\n                        var id = mapping[i];\n                        var post = this$1.glyphFor(id);\n                        var index = POSTSCRIPT_GLYPHS.indexOf(post);\n                        if (index >= 0) {\n                            indexes.push(index);\n                        } else {\n                            indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);\n                            strings.push(post);\n                        }\n                    }\n                    out.writeShort(mapping.length);\n                    for (i = 0; i < indexes.length; ++i) {\n                        out.writeShort(indexes[i]);\n                    }\n                    for (i = 0; i < strings.length; ++i) {\n                        out.writeByte(strings[i].length);\n                        out.writeString(strings[i]);\n                    }\n                    return out.get();\n                }\n            });\n        }();\n        var CmapTable = function () {\n            function CmapEntry(data, offset, codeMap) {\n                var self = this;\n                self.platformID = data.readShort();\n                self.platformSpecificID = data.readShort();\n                self.offset = offset + data.readLong();\n                data.saveExcursion(function () {\n                    var code;\n                    data.offset(self.offset);\n                    self.format = data.readShort();\n                    switch (self.format) {\n                    case 0:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        for (var i = 0; i < 256; ++i) {\n                            codeMap[i] = data.readByte();\n                        }\n                        break;\n                    case 4:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        var segCount = data.readShort() / 2;\n                        data.skip(6);\n                        var endCode = data.times(segCount, data.readShort);\n                        data.skip(2);\n                        var startCode = data.times(segCount, data.readShort);\n                        var idDelta = data.times(segCount, data.readShort_);\n                        var idRangeOffset = data.times(segCount, data.readShort);\n                        var count = (self.length + self.offset - data.offset()) / 2;\n                        var glyphIds = data.times(count, data.readShort);\n                        for (i = 0; i < segCount; ++i) {\n                            var start = startCode[i], end = endCode[i];\n                            for (code = start; code <= end; ++code) {\n                                var glyphId;\n                                if (idRangeOffset[i] === 0) {\n                                    glyphId = code + idDelta[i];\n                                } else {\n                                    var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);\n                                    glyphId = glyphIds[index] || 0;\n                                    if (glyphId !== 0) {\n                                        glyphId += idDelta[i];\n                                    }\n                                }\n                                codeMap[code] = glyphId & 65535;\n                            }\n                        }\n                        break;\n                    case 6:\n                        self.length = data.readShort();\n                        self.language = data.readShort();\n                        code = data.readShort();\n                        var length = data.readShort();\n                        while (length-- > 0) {\n                            codeMap[code++] = data.readShort();\n                        }\n                        break;\n                    case 12:\n                        data.readShort();\n                        self.length = data.readLong();\n                        self.language = data.readLong();\n                        var ngroups = data.readLong();\n                        while (ngroups-- > 0) {\n                            code = data.readLong();\n                            var endCharCode = data.readLong();\n                            var glyphCode = data.readLong();\n                            while (code <= endCharCode) {\n                                codeMap[code++] = glyphCode++;\n                            }\n                        }\n                        break;\n                    default:\n                        if (window.console) {\n                            window.console.error('Unhandled CMAP format: ' + self.format);\n                        }\n                    }\n                });\n            }\n            function renderCharmap(ncid2ogid, ogid2ngid) {\n                var codes = sortedKeys(ncid2ogid);\n                var startCodes = [];\n                var endCodes = [];\n                var last = null;\n                var diff = null;\n                function new_gid(charcode) {\n                    return ogid2ngid[ncid2ogid[charcode]];\n                }\n                for (var i = 0; i < codes.length; ++i) {\n                    var code = codes[i];\n                    var gid = new_gid(code);\n                    var delta = gid - code;\n                    if (last == null || delta !== diff) {\n                        if (last) {\n                            endCodes.push(last);\n                        }\n                        startCodes.push(code);\n                        diff = delta;\n                    }\n                    last = code;\n                }\n                if (last) {\n                    endCodes.push(last);\n                }\n                endCodes.push(65535);\n                startCodes.push(65535);\n                var segCount = startCodes.length;\n                var segCountX2 = segCount * 2;\n                var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));\n                var entrySelector = Math.log(searchRange / 2) / Math.LN2;\n                var rangeShift = segCountX2 - searchRange;\n                var deltas = [];\n                var rangeOffsets = [];\n                var glyphIds = [];\n                for (i = 0; i < segCount; ++i) {\n                    var startCode = startCodes[i];\n                    var endCode = endCodes[i];\n                    if (startCode == 65535) {\n                        deltas.push(0);\n                        rangeOffsets.push(0);\n                        break;\n                    }\n                    var startGlyph = new_gid(startCode);\n                    if (startCode - startGlyph >= 32768) {\n                        deltas.push(0);\n                        rangeOffsets.push(2 * (glyphIds.length + segCount - i));\n                        for (var j = startCode; j <= endCode; ++j) {\n                            glyphIds.push(new_gid(j));\n                        }\n                    } else {\n                        deltas.push(startGlyph - startCode);\n                        rangeOffsets.push(0);\n                    }\n                }\n                var out = BinaryStream();\n                out.writeShort(3);\n                out.writeShort(1);\n                out.writeLong(12);\n                out.writeShort(4);\n                out.writeShort(16 + segCount * 8 + glyphIds.length * 2);\n                out.writeShort(0);\n                out.writeShort(segCountX2);\n                out.writeShort(searchRange);\n                out.writeShort(entrySelector);\n                out.writeShort(rangeShift);\n                endCodes.forEach(out.writeShort);\n                out.writeShort(0);\n                startCodes.forEach(out.writeShort);\n                deltas.forEach(out.writeShort_);\n                rangeOffsets.forEach(out.writeShort);\n                glyphIds.forEach(out.writeShort);\n                return out.get();\n            }\n            return deftable({\n                parse: function (data) {\n                    var self = this;\n                    var offset = self.offset;\n                    data.offset(offset);\n                    self.codeMap = {};\n                    self.version = data.readShort();\n                    var tableCount = data.readShort();\n                    self.tables = data.times(tableCount, function () {\n                        return new CmapEntry(data, offset, self.codeMap);\n                    });\n                },\n                render: function (ncid2ogid, ogid2ngid) {\n                    var out = BinaryStream();\n                    out.writeShort(0);\n                    out.writeShort(1);\n                    out.write(renderCharmap(ncid2ogid, ogid2ngid));\n                    return out.get();\n                }\n            });\n        }();\n        var OS2Table = deftable({\n            parse: function (data) {\n                data.offset(this.offset);\n                this.version = data.readShort();\n                this.averageCharWidth = data.readShort_();\n                this.weightClass = data.readShort();\n                this.widthClass = data.readShort();\n                this.type = data.readShort();\n                this.ySubscriptXSize = data.readShort_();\n                this.ySubscriptYSize = data.readShort_();\n                this.ySubscriptXOffset = data.readShort_();\n                this.ySubscriptYOffset = data.readShort_();\n                this.ySuperscriptXSize = data.readShort_();\n                this.ySuperscriptYSize = data.readShort_();\n                this.ySuperscriptXOffset = data.readShort_();\n                this.ySuperscriptYOffset = data.readShort_();\n                this.yStrikeoutSize = data.readShort_();\n                this.yStrikeoutPosition = data.readShort_();\n                this.familyClass = data.readShort_();\n                this.panose = data.times(10, data.readByte);\n                this.charRange = data.times(4, data.readLong);\n                this.vendorID = data.readString(4);\n                this.selection = data.readShort();\n                this.firstCharIndex = data.readShort();\n                this.lastCharIndex = data.readShort();\n                if (this.version > 0) {\n                    this.ascent = data.readShort_();\n                    this.descent = data.readShort_();\n                    this.lineGap = data.readShort_();\n                    this.winAscent = data.readShort();\n                    this.winDescent = data.readShort();\n                    this.codePageRange = data.times(2, data.readLong);\n                    if (this.version > 1) {\n                        this.xHeight = data.readShort();\n                        this.capHeight = data.readShort();\n                        this.defaultChar = data.readShort();\n                        this.breakChar = data.readShort();\n                        this.maxContext = data.readShort();\n                    }\n                }\n            },\n            render: function () {\n                return this.raw();\n            }\n        });\n        var subsetTag = 100000;\n        function nextSubsetTag() {\n            var ret = '', n = String(subsetTag);\n            for (var i = 0; i < n.length; ++i) {\n                ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);\n            }\n            ++subsetTag;\n            return ret;\n        }\n        function Subfont(font) {\n            this.font = font;\n            this.subset = {};\n            this.unicodes = {};\n            this.ogid2ngid = { 0: 0 };\n            this.ngid2ogid = { 0: 0 };\n            this.ncid2ogid = {};\n            this.next = this.firstChar = 1;\n            this.nextGid = 1;\n            this.psName = nextSubsetTag() + '+' + this.font.psName;\n        }\n        Subfont.prototype = {\n            use: function (ch) {\n                var self = this;\n                if (typeof ch == 'string') {\n                    return ucs2decode(ch).reduce(function (ret, code) {\n                        return ret + String.fromCharCode(self.use(code));\n                    }, '');\n                }\n                var code = self.unicodes[ch];\n                if (!code) {\n                    code = self.next++;\n                    self.subset[code] = ch;\n                    self.unicodes[ch] = code;\n                    var old_gid = self.font.cmap.codeMap[ch];\n                    if (old_gid) {\n                        self.ncid2ogid[code] = old_gid;\n                        if (self.ogid2ngid[old_gid] == null) {\n                            var new_gid = self.nextGid++;\n                            self.ogid2ngid[old_gid] = new_gid;\n                            self.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                return code;\n            },\n            encodeText: function (text) {\n                return this.use(text);\n            },\n            glyphIds: function () {\n                return sortedKeys(this.ogid2ngid);\n            },\n            glyphsFor: function (glyphIds, result) {\n                var this$1 = this;\n                if (!result) {\n                    result = {};\n                }\n                for (var i = 0; i < glyphIds.length; ++i) {\n                    var id = glyphIds[i];\n                    if (!result[id]) {\n                        var glyph = result[id] = this$1.font.glyf.glyphFor(id);\n                        if (glyph && glyph.compound) {\n                            this$1.glyphsFor(glyph.glyphIds, result);\n                        }\n                    }\n                }\n                return result;\n            },\n            render: function () {\n                var this$1 = this;\n                var glyphs = this.glyphsFor(this.glyphIds());\n                for (var old_gid in glyphs) {\n                    if (hasOwnProperty$1(glyphs, old_gid)) {\n                        old_gid = parseInt(old_gid, 10);\n                        if (this$1.ogid2ngid[old_gid] == null) {\n                            var new_gid = this$1.nextGid++;\n                            this$1.ogid2ngid[old_gid] = new_gid;\n                            this$1.ngid2ogid[new_gid] = old_gid;\n                        }\n                    }\n                }\n                var new_gid_ids = sortedKeys(this.ngid2ogid);\n                var old_gid_ids = new_gid_ids.map(function (id) {\n                    return this.ngid2ogid[id];\n                }, this);\n                var font = this.font;\n                var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);\n                var loca = font.loca.render(glyf.offsets);\n                this.lastChar = this.next - 1;\n                var tables = {\n                    'cmap': CmapTable.render(this.ncid2ogid, this.ogid2ngid),\n                    'glyf': glyf.table,\n                    'loca': loca.table,\n                    'hmtx': font.hmtx.render(old_gid_ids),\n                    'hhea': font.hhea.render(old_gid_ids),\n                    'maxp': font.maxp.render(old_gid_ids),\n                    'post': font.post.render(old_gid_ids),\n                    'name': font.name.render(this.psName),\n                    'head': font.head.render(loca.format),\n                    'OS/2': font.os2.render()\n                };\n                return this.font.directory.render(tables);\n            },\n            cidToGidMap: function () {\n                var this$1 = this;\n                var out = BinaryStream(), len = 0;\n                for (var cid = this.firstChar; cid < this.next; ++cid) {\n                    while (len < cid) {\n                        out.writeShort(0);\n                        len++;\n                    }\n                    var old_gid = this$1.ncid2ogid[cid];\n                    if (old_gid) {\n                        var new_gid = this$1.ogid2ngid[old_gid];\n                        out.writeShort(new_gid);\n                    } else {\n                        out.writeShort(0);\n                    }\n                    len++;\n                }\n                return out.get();\n            }\n        };\n        function TTFFont(rawData, name) {\n            var self = this;\n            var data = self.contents = BinaryStream(rawData);\n            if (data.readString(4) == 'ttcf') {\n                var offset;\n                var parse = function () {\n                    data.offset(offset);\n                    self.parse();\n                };\n                if (!name) {\n                    throw new Error('Must specify a name for TTC files');\n                }\n                data.readLong();\n                var numFonts = data.readLong();\n                for (var i = 0; i < numFonts; ++i) {\n                    offset = data.readLong();\n                    data.saveExcursion(parse);\n                    if (self.psName == name) {\n                        return;\n                    }\n                }\n                throw new Error('Font ' + name + ' not found in collection');\n            } else {\n                data.offset(0);\n                self.parse();\n            }\n        }\n        TTFFont.prototype = {\n            parse: function () {\n                var dir = this.directory = new Directory(this.contents);\n                this.head = dir.readTable('head', HeadTable);\n                this.loca = dir.readTable('loca', LocaTable);\n                this.hhea = dir.readTable('hhea', HheaTable);\n                this.maxp = dir.readTable('maxp', MaxpTable);\n                this.hmtx = dir.readTable('hmtx', HmtxTable);\n                this.glyf = dir.readTable('glyf', GlyfTable);\n                this.name = dir.readTable('name', NameTable);\n                this.post = dir.readTable('post', PostTable);\n                this.cmap = dir.readTable('cmap', CmapTable);\n                this.os2 = dir.readTable('OS/2', OS2Table);\n                this.psName = this.name.postscriptName;\n                this.ascent = this.os2.ascent || this.hhea.ascent;\n                this.descent = this.os2.descent || this.hhea.descent;\n                this.lineGap = this.os2.lineGap || this.hhea.lineGap;\n                this.scale = 1000 / this.head.unitsPerEm;\n            },\n            widthOfGlyph: function (glyph) {\n                return this.hmtx.forGlyph(glyph).advance * this.scale;\n            },\n            makeSubset: function () {\n                return new Subfont(this);\n            }\n        };\n        var browser = kendo.support.browser;\n        var HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined';\n        var NL = '\\n';\n        var RESOURCE_COUNTER = 0;\n        var PAPER_SIZE = {\n            a0: [\n                2383.94,\n                3370.39\n            ],\n            a1: [\n                1683.78,\n                2383.94\n            ],\n            a2: [\n                1190.55,\n                1683.78\n            ],\n            a3: [\n                841.89,\n                1190.55\n            ],\n            a4: [\n                595.28,\n                841.89\n            ],\n            a5: [\n                419.53,\n                595.28\n            ],\n            a6: [\n                297.64,\n                419.53\n            ],\n            a7: [\n                209.76,\n                297.64\n            ],\n            a8: [\n                147.4,\n                209.76\n            ],\n            a9: [\n                104.88,\n                147.4\n            ],\n            a10: [\n                73.7,\n                104.88\n            ],\n            b0: [\n                2834.65,\n                4008.19\n            ],\n            b1: [\n                2004.09,\n                2834.65\n            ],\n            b2: [\n                1417.32,\n                2004.09\n            ],\n            b3: [\n                1000.63,\n                1417.32\n            ],\n            b4: [\n                708.66,\n                1000.63\n            ],\n            b5: [\n                498.9,\n                708.66\n            ],\n            b6: [\n                354.33,\n                498.9\n            ],\n            b7: [\n                249.45,\n                354.33\n            ],\n            b8: [\n                175.75,\n                249.45\n            ],\n            b9: [\n                124.72,\n                175.75\n            ],\n            b10: [\n                87.87,\n                124.72\n            ],\n            c0: [\n                2599.37,\n                3676.54\n            ],\n            c1: [\n                1836.85,\n                2599.37\n            ],\n            c2: [\n                1298.27,\n                1836.85\n            ],\n            c3: [\n                918.43,\n                1298.27\n            ],\n            c4: [\n                649.13,\n                918.43\n            ],\n            c5: [\n                459.21,\n                649.13\n            ],\n            c6: [\n                323.15,\n                459.21\n            ],\n            c7: [\n                229.61,\n                323.15\n            ],\n            c8: [\n                161.57,\n                229.61\n            ],\n            c9: [\n                113.39,\n                161.57\n            ],\n            c10: [\n                79.37,\n                113.39\n            ],\n            executive: [\n                521.86,\n                756\n            ],\n            folio: [\n                612,\n                936\n            ],\n            legal: [\n                612,\n                1008\n            ],\n            letter: [\n                612,\n                792\n            ],\n            tabloid: [\n                792,\n                1224\n            ]\n        };\n        function makeOutput() {\n            var indentLevel = 0, output = BinaryStream();\n            function out() {\n                var arguments$1 = arguments;\n                for (var i = 0; i < arguments.length; ++i) {\n                    var x = arguments$1[i];\n                    if (x === undefined) {\n                        throw new Error('Cannot output undefined to PDF');\n                    } else if (x instanceof PDFValue) {\n                        x.beforeRender(out);\n                        x.render(out);\n                    } else if (isArray(x)) {\n                        renderArray(x, out);\n                    } else if (isDate(x)) {\n                        renderDate(x, out);\n                    } else if (typeof x == 'number') {\n                        if (isNaN(x)) {\n                            throw new Error('Cannot output NaN to PDF');\n                        }\n                        var num = x.toFixed(7);\n                        if (num.indexOf('.') >= 0) {\n                            num = num.replace(/\\.?0+$/, '');\n                        }\n                        if (num == '-0') {\n                            num = '0';\n                        }\n                        output.writeString(num);\n                    } else if (/string|boolean/.test(typeof x)) {\n                        output.writeString(String(x));\n                    } else if (typeof x.get == 'function') {\n                        output.write(x.get());\n                    } else if (typeof x == 'object') {\n                        if (!x) {\n                            output.writeString('null');\n                        } else {\n                            out(new PDFDictionary(x));\n                        }\n                    }\n                }\n            }\n            out.writeData = function (data) {\n                output.write(data);\n            };\n            out.withIndent = function (f) {\n                ++indentLevel;\n                f(out);\n                --indentLevel;\n            };\n            out.indent = function () {\n                out(NL, pad('', indentLevel * 2, '  '));\n                out.apply(null, arguments);\n            };\n            out.offset = function () {\n                return output.offset();\n            };\n            out.toString = function () {\n                throw new Error('FIX CALLER');\n            };\n            out.get = function () {\n                return output.get();\n            };\n            out.stream = function () {\n                return output;\n            };\n            return out;\n        }\n        function wrapObject(value, id) {\n            var beforeRender = value.beforeRender;\n            var renderValue = value.render;\n            value.beforeRender = function () {\n            };\n            value.render = function (out) {\n                out(id, ' 0 R');\n            };\n            value.renderFull = function (out) {\n                value._offset = out.offset();\n                out(id, ' 0 obj ');\n                beforeRender.call(value, out);\n                renderValue.call(value, out);\n                out(' endobj');\n            };\n        }\n        function getPaperOptions(getOption) {\n            if (typeof getOption != 'function') {\n                var options = getOption;\n                getOption = function (key, def) {\n                    return key in options ? options[key] : def;\n                };\n            }\n            var paperSize = getOption('paperSize', PAPER_SIZE.a4);\n            if (!paperSize) {\n                return {};\n            }\n            if (typeof paperSize == 'string') {\n                paperSize = PAPER_SIZE[paperSize.toLowerCase()];\n                if (paperSize == null) {\n                    throw new Error('Unknown paper size');\n                }\n            }\n            paperSize[0] = unitsToPoints(paperSize[0]);\n            paperSize[1] = unitsToPoints(paperSize[1]);\n            if (getOption('landscape', false)) {\n                paperSize = [\n                    Math.max(paperSize[0], paperSize[1]),\n                    Math.min(paperSize[0], paperSize[1])\n                ];\n            }\n            var margin = getOption('margin');\n            if (margin) {\n                if (typeof margin == 'string' || typeof margin == 'number') {\n                    margin = unitsToPoints(margin, 0);\n                    margin = {\n                        left: margin,\n                        top: margin,\n                        right: margin,\n                        bottom: margin\n                    };\n                } else {\n                    margin = {\n                        left: unitsToPoints(margin.left, 0),\n                        top: unitsToPoints(margin.top, 0),\n                        right: unitsToPoints(margin.right, 0),\n                        bottom: unitsToPoints(margin.bottom, 0)\n                    };\n                }\n                if (getOption('addMargin')) {\n                    paperSize[0] += margin.left + margin.right;\n                    paperSize[1] += margin.top + margin.bottom;\n                }\n            }\n            return {\n                paperSize: paperSize,\n                margin: margin\n            };\n        }\n        function PDFDocument(options) {\n            var self = this;\n            var out = makeOutput();\n            var objcount = 0;\n            var objects = [];\n            function getOption(name, defval) {\n                return options && options[name] != null ? options[name] : defval;\n            }\n            self.getOption = getOption;\n            self.attach = function (value) {\n                if (objects.indexOf(value) < 0) {\n                    wrapObject(value, ++objcount);\n                    objects.push(value);\n                }\n                return value;\n            };\n            self.pages = [];\n            self.FONTS = {};\n            self.IMAGES = {};\n            self.GRAD_COL_FUNCTIONS = {};\n            self.GRAD_OPC_FUNCTIONS = {};\n            self.GRAD_COL = {};\n            self.GRAD_OPC = {};\n            var catalog = self.attach(new PDFCatalog());\n            var pageTree = self.attach(new PDFPageTree());\n            if (getOption('autoPrint')) {\n                var nameTree = {};\n                nameTree.JavaScript = new PDFDictionary({\n                    Names: [\n                        new PDFString('JS'),\n                        self.attach(new PDFDictionary({\n                            S: _('JavaScript'),\n                            JS: new PDFString('print(true);')\n                        }))\n                    ]\n                });\n                catalog.props.Names = new PDFDictionary(nameTree);\n            }\n            catalog.setPages(pageTree);\n            var info = self.attach(new PDFDictionary({\n                Producer: new PDFString(getOption('producer', 'Kendo UI PDF Generator')),\n                Title: new PDFString(getOption('title', '')),\n                Author: new PDFString(getOption('author', '')),\n                Subject: new PDFString(getOption('subject', '')),\n                Keywords: new PDFString(getOption('keywords', '')),\n                Creator: new PDFString(getOption('creator', 'Kendo UI PDF Generator')),\n                CreationDate: getOption('date', new Date())\n            }));\n            self.addPage = function (options) {\n                var paperOptions = getPaperOptions(function (name, defval) {\n                    return options && options[name] != null ? options[name] : defval;\n                });\n                var paperSize = paperOptions.paperSize;\n                var margin = paperOptions.margin;\n                var contentWidth = paperSize[0];\n                var contentHeight = paperSize[1];\n                if (margin) {\n                    contentWidth -= margin.left + margin.right;\n                    contentHeight -= margin.top + margin.bottom;\n                }\n                var content = new PDFStream(makeOutput(), null, true);\n                var props = {\n                    Contents: self.attach(content),\n                    Parent: pageTree,\n                    MediaBox: [\n                        0,\n                        0,\n                        paperSize[0],\n                        paperSize[1]\n                    ]\n                };\n                var page = new PDFPage(self, props);\n                page._content = content;\n                pageTree.addPage(self.attach(page));\n                page.transform(1, 0, 0, -1, 0, paperSize[1]);\n                if (margin) {\n                    page.translate(margin.left, margin.top);\n                    page.rect(0, 0, contentWidth, contentHeight);\n                    page.clip();\n                }\n                self.pages.push(page);\n                return page;\n            };\n            self.render = function () {\n                var i;\n                out('%PDF-1.4', NL, '%', NL, NL);\n                for (i = 0; i < objects.length; ++i) {\n                    objects[i].renderFull(out);\n                    out(NL, NL);\n                }\n                var xrefOffset = out.offset();\n                out('xref', NL, 0, ' ', objects.length + 1, NL);\n                out('0000000000 65535 f ', NL);\n                for (i = 0; i < objects.length; ++i) {\n                    out(zeropad(objects[i]._offset, 10), ' 00000 n ', NL);\n                }\n                out(NL);\n                out('trailer', NL);\n                out(new PDFDictionary({\n                    Size: objects.length + 1,\n                    Root: catalog,\n                    Info: info\n                }), NL, NL);\n                out('startxref', NL, xrefOffset, NL);\n                out('%%EOF', NL);\n                return out.stream().offset(0);\n            };\n        }\n        var FONT_CACHE = {\n            'Times-Roman': true,\n            'Times-Bold': true,\n            'Times-Italic': true,\n            'Times-BoldItalic': true,\n            'Helvetica': true,\n            'Helvetica-Bold': true,\n            'Helvetica-Oblique': true,\n            'Helvetica-BoldOblique': true,\n            'Courier': true,\n            'Courier-Bold': true,\n            'Courier-Oblique': true,\n            'Courier-BoldOblique': true,\n            'Symbol': true,\n            'ZapfDingbats': true\n        };\n        function loadBinary(url, cont) {\n            function error() {\n                if (window.console) {\n                    if (window.console.error) {\n                        window.console.error('Cannot load URL: %s', url);\n                    } else {\n                        window.console.log('Cannot load URL: %s', url);\n                    }\n                }\n                cont(null);\n            }\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            if (HAS_TYPED_ARRAYS) {\n                req.responseType = 'arraybuffer';\n            }\n            req.onload = function () {\n                if (req.status == 200 || req.status == 304) {\n                    if (HAS_TYPED_ARRAYS) {\n                        cont(new Uint8Array(req.response));\n                    } else {\n                        cont(new window.VBArray(req.responseBody).toArray());\n                    }\n                } else {\n                    error();\n                }\n            };\n            req.onerror = error;\n            req.send(null);\n        }\n        function loadFont(url, cont) {\n            var font = FONT_CACHE[url];\n            if (font) {\n                cont(font);\n            } else {\n                loadBinary(url, function (data) {\n                    if (data == null) {\n                        throw new Error('Cannot load font from ' + url);\n                    } else {\n                        var font = new TTFFont(data);\n                        FONT_CACHE[url] = font;\n                        cont(font);\n                    }\n                });\n            }\n        }\n        var IMAGE_CACHE = {};\n        function clearImageCache() {\n            IMAGE_CACHE = {};\n        }\n        function loadImage(url, size, cont) {\n            var img = IMAGE_CACHE[url], bloburl, blob;\n            if (img) {\n                cont(img);\n            } else {\n                img = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                if (HAS_TYPED_ARRAYS && !/^data:/i.test(url)) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.onload = function () {\n                        blob = xhr.response;\n                        bloburl = URL.createObjectURL(blob);\n                        _load(bloburl);\n                    };\n                    xhr.onerror = _onerror;\n                    xhr.open('GET', url, true);\n                    xhr.responseType = 'blob';\n                    xhr.send();\n                } else {\n                    _load(url);\n                }\n            }\n            function _load(url) {\n                img.src = url;\n                if (img.complete && !browser.msie) {\n                    _onload();\n                } else {\n                    img.onload = _onload;\n                    img.onerror = _onerror;\n                }\n            }\n            function _onerror() {\n                cont(IMAGE_CACHE[url] = 'TAINTED');\n            }\n            function _onload() {\n                if (size) {\n                    if (size.width >= img.width || size.height >= img.height) {\n                        size = null;\n                    }\n                }\n                if (!size && blob && /^image\\/jpe?g$/i.test(blob.type)) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        var img = new PDFJpegImage(BinaryStream(new Uint8Array(this.result)));\n                        URL.revokeObjectURL(bloburl);\n                        cont(IMAGE_CACHE[url] = img);\n                    };\n                    reader.readAsArrayBuffer(blob);\n                    return;\n                }\n                if (!size) {\n                    size = {\n                        width: img.width,\n                        height: img.height\n                    };\n                }\n                var canvas = document.createElement('canvas');\n                canvas.width = size.width;\n                canvas.height = size.height;\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, size.width, size.height);\n                var imgdata;\n                try {\n                    imgdata = ctx.getImageData(0, 0, size.width, size.height);\n                } catch (ex) {\n                    _onerror();\n                    return;\n                } finally {\n                    if (bloburl) {\n                        URL.revokeObjectURL(bloburl);\n                    }\n                }\n                var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();\n                var rawbytes = imgdata.data;\n                var i = 0;\n                while (i < rawbytes.length) {\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    rgb.writeByte(rawbytes[i++]);\n                    var a = rawbytes[i++];\n                    if (a < 255) {\n                        hasAlpha = true;\n                    }\n                    alpha.writeByte(a);\n                }\n                if (hasAlpha) {\n                    img = new PDFRawImage(size.width, size.height, rgb, alpha);\n                } else {\n                    var data = canvas.toDataURL('image/jpeg');\n                    data = data.substr(data.indexOf(';base64,') + 8);\n                    var stream = BinaryStream();\n                    stream.writeBase64(data);\n                    img = new PDFJpegImage(stream);\n                }\n                cont(IMAGE_CACHE[url] = img);\n            }\n        }\n        function manyLoader(loadOne) {\n            return function (urls, callback) {\n                var n = urls.length, i = n;\n                if (n === 0) {\n                    return callback();\n                }\n                function next() {\n                    if (--n === 0) {\n                        callback();\n                    }\n                }\n                while (i-- > 0) {\n                    loadOne(urls[i], next);\n                }\n            };\n        }\n        var loadFonts = manyLoader(loadFont);\n        var loadImages = function (images, callback) {\n            var urls = Object.keys(images), n = urls.length;\n            if (n === 0) {\n                return callback();\n            }\n            function next() {\n                if (--n === 0) {\n                    callback();\n                }\n            }\n            urls.forEach(function (url) {\n                loadImage(url, images[url], next);\n            });\n        };\n        PDFDocument.prototype = {\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getFont: function (url) {\n                var font = this.FONTS[url];\n                if (!font) {\n                    font = FONT_CACHE[url];\n                    if (!font) {\n                        throw new Error('Font ' + url + ' has not been loaded');\n                    }\n                    if (font === true) {\n                        font = this.attach(new PDFStandardFont(url));\n                    } else {\n                        font = this.attach(new PDFFont(this, font));\n                    }\n                    this.FONTS[url] = font;\n                }\n                return font;\n            },\n            getImage: function (url) {\n                var img = this.IMAGES[url];\n                if (!img) {\n                    img = IMAGE_CACHE[url];\n                    if (!img) {\n                        throw new Error('Image ' + url + ' has not been loaded');\n                    }\n                    if (img === 'TAINTED') {\n                        return null;\n                    }\n                    img = this.IMAGES[url] = this.attach(img.asStream(this));\n                }\n                return img;\n            },\n            getOpacityGS: function (opacity, forStroke) {\n                var id = parseFloat(opacity).toFixed(3);\n                opacity = parseFloat(id);\n                id += forStroke ? 'S' : 'F';\n                var cache = this._opacityGSCache || (this._opacityGSCache = {});\n                var gs = cache[id];\n                if (!gs) {\n                    var props = { Type: _('ExtGState') };\n                    if (forStroke) {\n                        props.CA = opacity;\n                    } else {\n                        props.ca = opacity;\n                    }\n                    gs = this.attach(new PDFDictionary(props));\n                    gs._resourceName = _('GS' + ++RESOURCE_COUNTER);\n                    cache[id] = gs;\n                }\n                return gs;\n            },\n            dict: function (props) {\n                return new PDFDictionary(props);\n            },\n            name: function (str) {\n                return _(str);\n            },\n            stream: function (props, content) {\n                return new PDFStream(content, props);\n            }\n        };\n        function pad(str, len, ch) {\n            while (str.length < len) {\n                str = ch + str;\n            }\n            return str;\n        }\n        function zeropad(n, len) {\n            return pad(String(n), len, '0');\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        var isArray = Array.isArray || function (obj) {\n            return obj instanceof Array;\n        };\n        function isDate(obj) {\n            return obj instanceof Date;\n        }\n        function renderArray(a, out) {\n            out('[');\n            if (a.length > 0) {\n                out.withIndent(function () {\n                    for (var i = 0; i < a.length; ++i) {\n                        if (i > 0 && i % 8 === 0) {\n                            out.indent(a[i]);\n                        } else {\n                            out(' ', a[i]);\n                        }\n                    }\n                });\n            }\n            out(' ]');\n        }\n        function renderDate(date, out) {\n            out('(D:', zeropad(date.getUTCFullYear(), 4), zeropad(date.getUTCMonth() + 1, 2), zeropad(date.getUTCDate(), 2), zeropad(date.getUTCHours(), 2), zeropad(date.getUTCMinutes(), 2), zeropad(date.getUTCSeconds(), 2), 'Z)');\n        }\n        function mm2pt(mm) {\n            return mm * (72 / 25.4);\n        }\n        function cm2pt(cm) {\n            return mm2pt(cm * 10);\n        }\n        function in2pt(inch) {\n            return inch * 72;\n        }\n        function unitsToPoints(x, def) {\n            if (typeof x == 'number') {\n                return x;\n            }\n            if (typeof x == 'string') {\n                var m;\n                m = /^\\s*([0-9.]+)\\s*(mm|cm|in|pt)\\s*$/.exec(x);\n                if (m) {\n                    var num = parseFloat(m[1]);\n                    if (!isNaN(num)) {\n                        if (m[2] == 'pt') {\n                            return num;\n                        }\n                        return {\n                            'mm': mm2pt,\n                            'cm': cm2pt,\n                            'in': in2pt\n                        }[m[2]](num);\n                    }\n                }\n            }\n            if (def != null) {\n                return def;\n            }\n            throw new Error('Can\\'t parse unit: ' + x);\n        }\n        function PDFValue() {\n        }\n        PDFValue.prototype.beforeRender = function () {\n        };\n        function defclass(Ctor, proto, Base) {\n            if (!Base) {\n                Base = PDFValue;\n            }\n            Ctor.prototype = new Base();\n            for (var i in proto) {\n                if (hasOwnProperty(proto, i)) {\n                    Ctor.prototype[i] = proto[i];\n                }\n            }\n            return Ctor;\n        }\n        var PDFString = defclass(function PDFString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                var txt = '', val = this.value;\n                for (var i = 0; i < val.length; ++i) {\n                    txt += String.fromCharCode(val.charCodeAt(i) & 255);\n                }\n                out('(', txt.replace(/([\\(\\)\\\\])/g, '\\\\$1'), ')');\n            },\n            toString: function () {\n                return this.value;\n            }\n        });\n        var PDFHexString = defclass(function PDFHexString(value) {\n            this.value = value;\n        }, {\n            render: function (out) {\n                var this$1 = this;\n                out('<');\n                for (var i = 0; i < this.value.length; ++i) {\n                    out(zeropad(this$1.value.charCodeAt(i).toString(16), 4));\n                }\n                out('>');\n            }\n        }, PDFString);\n        var PDFName = defclass(function PDFName(name) {\n            this.name = name;\n        }, {\n            render: function (out) {\n                out('/' + this.escape());\n            },\n            escape: function () {\n                return this.name.replace(/[^\\x21-\\x7E]/g, function (c) {\n                    return '#' + zeropad(c.charCodeAt(0).toString(16), 2);\n                });\n            },\n            toString: function () {\n                return this.name;\n            }\n        });\n        var PDFName_cache = {};\n        PDFName.get = _;\n        function _(name) {\n            if (hasOwnProperty(PDFName_cache, name)) {\n                return PDFName_cache[name];\n            }\n            return PDFName_cache[name] = new PDFName(name);\n        }\n        var PDFDictionary = defclass(function PDFDictionary(props) {\n            this.props = props;\n        }, {\n            render: function (out) {\n                var props = this.props, empty = true;\n                out('<<');\n                out.withIndent(function () {\n                    for (var i in props) {\n                        if (hasOwnProperty(props, i) && !/^_/.test(i)) {\n                            empty = false;\n                            out.indent(_(i), ' ', props[i]);\n                        }\n                    }\n                });\n                if (!empty) {\n                    out.indent();\n                }\n                out('>>');\n            }\n        });\n        var PDFStream = defclass(function PDFStream(data, props, compress) {\n            if (typeof data == 'string') {\n                var tmp = BinaryStream();\n                tmp.write(data);\n                data = tmp;\n            }\n            this.data = data;\n            this.props = props || {};\n            this.compress = compress;\n        }, {\n            render: function (out) {\n                var data = this.data.get(), props = this.props;\n                if (this.compress && kendoPdf.supportsDeflate()) {\n                    if (!props.Filter) {\n                        props.Filter = [];\n                    } else if (!(props.Filter instanceof Array)) {\n                        props.Filter = [props.Filter];\n                    }\n                    props.Filter.unshift(_('FlateDecode'));\n                    data = kendoPdf.deflate(data);\n                }\n                props.Length = data.length;\n                out(new PDFDictionary(props), ' stream', NL);\n                out.writeData(data);\n                out(NL, 'endstream');\n            }\n        });\n        var PDFCatalog = defclass(function PDFCatalog() {\n            this.props = { Type: _('Catalog') };\n        }, {\n            setPages: function (pagesObj) {\n                this.props.Pages = pagesObj;\n            }\n        }, PDFDictionary);\n        var PDFPageTree = defclass(function PDFPageTree() {\n            this.props = {\n                Type: _('Pages'),\n                Kids: [],\n                Count: 0\n            };\n        }, {\n            addPage: function (pageObj) {\n                this.props.Kids.push(pageObj);\n                this.props.Count++;\n            }\n        }, PDFDictionary);\n        var SOF_CODES = [\n            192,\n            193,\n            194,\n            195,\n            197,\n            198,\n            199,\n            201,\n            202,\n            203,\n            205,\n            206,\n            207\n        ];\n        function PDFJpegImage(data) {\n            data.offset(0);\n            var width, height, colorSpace, bitsPerComponent;\n            var soi = data.readShort();\n            if (soi != 65496) {\n                throw new Error('Invalid JPEG image');\n            }\n            while (!data.eof()) {\n                var ff = data.readByte();\n                if (ff != 255) {\n                    throw new Error('Invalid JPEG image');\n                }\n                var marker = data.readByte();\n                var length = data.readShort();\n                if (SOF_CODES.indexOf(marker) >= 0) {\n                    bitsPerComponent = data.readByte();\n                    height = data.readShort();\n                    width = data.readShort();\n                    colorSpace = data.readByte();\n                    break;\n                }\n                data.skip(length - 2);\n            }\n            if (colorSpace == null) {\n                throw new Error('Invalid JPEG image');\n            }\n            var props = {\n                Type: _('XObject'),\n                Subtype: _('Image'),\n                Width: width,\n                Height: height,\n                BitsPerComponent: bitsPerComponent,\n                Filter: _('DCTDecode')\n            };\n            switch (colorSpace) {\n            case 1:\n                props.ColorSpace = _('DeviceGray');\n                break;\n            case 3:\n                props.ColorSpace = _('DeviceRGB');\n                break;\n            case 4:\n                props.ColorSpace = _('DeviceCMYK');\n                props.Decode = [\n                    1,\n                    0,\n                    1,\n                    0,\n                    1,\n                    0,\n                    1,\n                    0\n                ];\n                break;\n            }\n            this.asStream = function () {\n                data.offset(0);\n                var stream = new PDFStream(data, props);\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        function PDFRawImage(width, height, rgb, alpha) {\n            this.asStream = function (pdf) {\n                var mask = new PDFStream(alpha, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceGray')\n                }, true);\n                var stream = new PDFStream(rgb, {\n                    Type: _('XObject'),\n                    Subtype: _('Image'),\n                    Width: width,\n                    Height: height,\n                    BitsPerComponent: 8,\n                    ColorSpace: _('DeviceRGB'),\n                    SMask: pdf.attach(mask)\n                }, true);\n                stream._resourceName = _('I' + ++RESOURCE_COUNTER);\n                return stream;\n            };\n        }\n        var PDFStandardFont = defclass(function PDFStandardFont(name) {\n            this.props = {\n                Type: _('Font'),\n                Subtype: _('Type1'),\n                BaseFont: _(name)\n            };\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n        }, {\n            encodeText: function (str) {\n                return new PDFString(String(str));\n            }\n        }, PDFDictionary);\n        var PDFFont = defclass(function PDFFont(pdf, font, props) {\n            props = this.props = props || {};\n            props.Type = _('Font');\n            props.Subtype = _('Type0');\n            props.Encoding = _('Identity-H');\n            this._pdf = pdf;\n            this._font = font;\n            this._sub = font.makeSubset();\n            this._resourceName = _('F' + ++RESOURCE_COUNTER);\n            var head = font.head;\n            this.name = font.psName;\n            var scale = this.scale = font.scale;\n            this.bbox = [\n                head.xMin * scale,\n                head.yMin * scale,\n                head.xMax * scale,\n                head.yMax * scale\n            ];\n            this.italicAngle = font.post.italicAngle;\n            this.ascent = font.ascent * scale;\n            this.descent = font.descent * scale;\n            this.lineGap = font.lineGap * scale;\n            this.capHeight = font.os2.capHeight || this.ascent;\n            this.xHeight = font.os2.xHeight || 0;\n            this.stemV = 0;\n            this.familyClass = (font.os2.familyClass || 0) >> 8;\n            this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;\n            this.isScript = this.familyClass == 10;\n            this.flags = (font.post.isFixedPitch ? 1 : 0) | (this.isSerif ? 1 << 1 : 0) | (this.isScript ? 1 << 3 : 0) | (this.italicAngle !== 0 ? 1 << 6 : 0) | 1 << 5;\n        }, {\n            encodeText: function (text) {\n                return new PDFHexString(this._sub.encodeText(String(text)));\n            },\n            getTextWidth: function (fontSize, text) {\n                var this$1 = this;\n                var width = 0, codeMap = this._font.cmap.codeMap;\n                for (var i = 0; i < text.length; ++i) {\n                    var glyphId = codeMap[text.charCodeAt(i)];\n                    width += this$1._font.widthOfGlyph(glyphId || 0);\n                }\n                return width * fontSize / 1000;\n            },\n            beforeRender: function () {\n                var self = this;\n                var sub = self._sub;\n                var data = sub.render();\n                var fontStream = new PDFStream(BinaryStream(data), { Length1: data.length }, true);\n                var descriptor = self._pdf.attach(new PDFDictionary({\n                    Type: _('FontDescriptor'),\n                    FontName: _(self._sub.psName),\n                    FontBBox: self.bbox,\n                    Flags: self.flags,\n                    StemV: self.stemV,\n                    ItalicAngle: self.italicAngle,\n                    Ascent: self.ascent,\n                    Descent: self.descent,\n                    CapHeight: self.capHeight,\n                    XHeight: self.xHeight,\n                    FontFile2: self._pdf.attach(fontStream)\n                }));\n                var cmap = sub.ncid2ogid;\n                var firstChar = sub.firstChar;\n                var lastChar = sub.lastChar;\n                var charWidths = [];\n                (function loop(i, chunk) {\n                    if (i <= lastChar) {\n                        var gid = cmap[i];\n                        if (gid == null) {\n                            loop(i + 1);\n                        } else {\n                            if (!chunk) {\n                                charWidths.push(i, chunk = []);\n                            }\n                            chunk.push(self._font.widthOfGlyph(gid));\n                            loop(i + 1, chunk);\n                        }\n                    }\n                }(firstChar));\n                var descendant = new PDFDictionary({\n                    Type: _('Font'),\n                    Subtype: _('CIDFontType2'),\n                    BaseFont: _(self._sub.psName),\n                    CIDSystemInfo: new PDFDictionary({\n                        Registry: new PDFString('Adobe'),\n                        Ordering: new PDFString('Identity'),\n                        Supplement: 0\n                    }),\n                    FontDescriptor: descriptor,\n                    FirstChar: firstChar,\n                    LastChar: lastChar,\n                    DW: Math.round(self._font.widthOfGlyph(0)),\n                    W: charWidths,\n                    CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())\n                });\n                var dict = self.props;\n                dict.BaseFont = _(self._sub.psName);\n                dict.DescendantFonts = [self._pdf.attach(descendant)];\n                var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);\n                var unimapStream = new PDFStream(makeOutput(), null, true);\n                unimapStream.data(unimap);\n                dict.ToUnicode = self._pdf.attach(unimapStream);\n            },\n            _makeCidToGidMap: function () {\n                return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);\n            }\n        }, PDFDictionary);\n        var PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map) {\n            this.firstChar = firstChar;\n            this.lastChar = lastChar;\n            this.map = map;\n        }, {\n            render: function (out) {\n                out.indent('/CIDInit /ProcSet findresource begin');\n                out.indent('12 dict begin');\n                out.indent('begincmap');\n                out.indent('/CIDSystemInfo <<');\n                out.indent('  /Registry (Adobe)');\n                out.indent('  /Ordering (UCS)');\n                out.indent('  /Supplement 0');\n                out.indent('>> def');\n                out.indent('/CMapName /Adobe-Identity-UCS def');\n                out.indent('/CMapType 2 def');\n                out.indent('1 begincodespacerange');\n                out.indent('  <0000><ffff>');\n                out.indent('endcodespacerange');\n                var self = this;\n                out.indent(self.lastChar - self.firstChar + 1, ' beginbfchar');\n                out.withIndent(function () {\n                    for (var code = self.firstChar; code <= self.lastChar; ++code) {\n                        var unicode = self.map[code];\n                        var str = ucs2encode([unicode]);\n                        out.indent('<', zeropad(code.toString(16), 4), '>', '<');\n                        for (var i = 0; i < str.length; ++i) {\n                            out(zeropad(str.charCodeAt(i).toString(16), 4));\n                        }\n                        out('>');\n                    }\n                });\n                out.indent('endbfchar');\n                out.indent('endcmap');\n                out.indent('CMapName currentdict /CMap defineresource pop');\n                out.indent('end');\n                out.indent('end');\n            }\n        });\n        function makeHash(a) {\n            return a.map(function (x) {\n                return isArray(x) ? makeHash(x) : typeof x == 'number' ? (Math.round(x * 1000) / 1000).toFixed(3) : x;\n            }).join(' ');\n        }\n        function cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {\n            var hash = makeHash([\n                r1,\n                g1,\n                b1,\n                r2,\n                g2,\n                b2\n            ]);\n            var func = pdf.GRAD_COL_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1,\n                        0,\n                        1,\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [\n                        r1,\n                        g1,\n                        b1\n                    ],\n                    C1: [\n                        r2,\n                        g2,\n                        b2\n                    ]\n                }));\n            }\n            return func;\n        }\n        function cacheOpacityGradientFunction(pdf, a1, a2) {\n            var hash = makeHash([\n                a1,\n                a2\n            ]);\n            var func = pdf.GRAD_OPC_FUNCTIONS[hash];\n            if (!func) {\n                func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n                    FunctionType: 2,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Range: [\n                        0,\n                        1\n                    ],\n                    N: 1,\n                    C0: [a1],\n                    C1: [a2]\n                }));\n            }\n            return func;\n        }\n        function makeGradientFunctions(pdf, stops) {\n            var hasAlpha = false;\n            var opacities = [];\n            var colors = [];\n            var offsets = [];\n            var encode = [];\n            var i, prev, cur, prevColor, curColor;\n            for (i = 1; i < stops.length; ++i) {\n                prev = stops[i - 1];\n                cur = stops[i];\n                prevColor = prev.color;\n                curColor = cur.color;\n                colors.push(cacheColorGradientFunction(pdf, prevColor.r, prevColor.g, prevColor.b, curColor.r, curColor.g, curColor.b));\n                if (prevColor.a < 1 || curColor.a < 1) {\n                    hasAlpha = true;\n                }\n                offsets.push(cur.offset);\n                encode.push(0, 1);\n            }\n            if (hasAlpha) {\n                for (i = 1; i < stops.length; ++i) {\n                    prev = stops[i - 1];\n                    cur = stops[i];\n                    prevColor = prev.color;\n                    curColor = cur.color;\n                    opacities.push(cacheOpacityGradientFunction(pdf, prevColor.a, curColor.a));\n                }\n            }\n            offsets.pop();\n            return {\n                hasAlpha: hasAlpha,\n                colors: assemble(colors),\n                opacities: hasAlpha ? assemble(opacities) : null\n            };\n            function assemble(funcs) {\n                if (funcs.length == 1) {\n                    return funcs[0];\n                }\n                return {\n                    FunctionType: 3,\n                    Functions: funcs,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Bounds: offsets,\n                    Encode: encode\n                };\n            }\n        }\n        function cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var shading, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.r, x.color.g, x.color.b);\n                });\n                hash = makeHash(a);\n                shading = pdf.GRAD_COL[hash];\n            }\n            if (!shading) {\n                shading = new PDFDictionary({\n                    Type: _('Shading'),\n                    ShadingType: isRadial ? 3 : 2,\n                    ColorSpace: _('DeviceRGB'),\n                    Coords: coords,\n                    Domain: [\n                        0,\n                        1\n                    ],\n                    Function: funcs,\n                    Extend: [\n                        true,\n                        true\n                    ]\n                });\n                pdf.attach(shading);\n                shading._resourceName = 'S' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_COL[hash] = shading;\n                }\n            }\n            return shading;\n        }\n        function cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {\n            var opacity, hash;\n            if (!box) {\n                var a = [isRadial].concat(coords);\n                stops.forEach(function (x) {\n                    a.push(x.offset, x.color.a);\n                });\n                hash = makeHash(a);\n                opacity = pdf.GRAD_OPC[hash];\n            }\n            if (!opacity) {\n                opacity = new PDFDictionary({\n                    Type: _('ExtGState'),\n                    AIS: false,\n                    CA: 1,\n                    ca: 1,\n                    SMask: {\n                        Type: _('Mask'),\n                        S: _('Luminosity'),\n                        G: pdf.attach(new PDFStream('/a0 gs /s0 sh', {\n                            Type: _('XObject'),\n                            Subtype: _('Form'),\n                            FormType: 1,\n                            BBox: box ? [\n                                box.left,\n                                box.top + box.height,\n                                box.left + box.width,\n                                box.top\n                            ] : [\n                                0,\n                                1,\n                                1,\n                                0\n                            ],\n                            Group: {\n                                Type: _('Group'),\n                                S: _('Transparency'),\n                                CS: _('DeviceGray'),\n                                I: true\n                            },\n                            Resources: {\n                                ExtGState: {\n                                    a0: {\n                                        CA: 1,\n                                        ca: 1\n                                    }\n                                },\n                                Shading: {\n                                    s0: {\n                                        ColorSpace: _('DeviceGray'),\n                                        Coords: coords,\n                                        Domain: [\n                                            0,\n                                            1\n                                        ],\n                                        ShadingType: isRadial ? 3 : 2,\n                                        Function: funcs,\n                                        Extend: [\n                                            true,\n                                            true\n                                        ]\n                                    }\n                                }\n                            }\n                        }))\n                    }\n                });\n                pdf.attach(opacity);\n                opacity._resourceName = 'O' + ++RESOURCE_COUNTER;\n                if (hash) {\n                    pdf.GRAD_OPC[hash] = opacity;\n                }\n            }\n            return opacity;\n        }\n        function cacheGradient(pdf, gradient, box) {\n            var isRadial = gradient.type == 'radial';\n            var funcs = makeGradientFunctions(pdf, gradient.stops);\n            var coords = isRadial ? [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.start.r,\n                gradient.end.x,\n                gradient.end.y,\n                gradient.end.r\n            ] : [\n                gradient.start.x,\n                gradient.start.y,\n                gradient.end.x,\n                gradient.end.y\n            ];\n            var shading = cacheColorGradient(pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box);\n            var opacity = funcs.hasAlpha ? cacheOpacityGradient(pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box) : null;\n            return {\n                hasAlpha: funcs.hasAlpha,\n                shading: shading,\n                opacity: opacity\n            };\n        }\n        var PDFPage = defclass(function PDFPage(pdf, props) {\n            this._pdf = pdf;\n            this._rcount = 0;\n            this._textMode = false;\n            this._fontResources = {};\n            this._gsResources = {};\n            this._xResources = {};\n            this._patResources = {};\n            this._shResources = {};\n            this._opacity = 1;\n            this._matrix = [\n                1,\n                0,\n                0,\n                1,\n                0,\n                0\n            ];\n            this._annotations = [];\n            this._font = null;\n            this._fontSize = null;\n            this._contextStack = [];\n            props = this.props = props || {};\n            props.Type = _('Page');\n            props.ProcSet = [\n                _('PDF'),\n                _('Text'),\n                _('ImageB'),\n                _('ImageC'),\n                _('ImageI')\n            ];\n            props.Resources = new PDFDictionary({\n                Font: new PDFDictionary(this._fontResources),\n                ExtGState: new PDFDictionary(this._gsResources),\n                XObject: new PDFDictionary(this._xResources),\n                Pattern: new PDFDictionary(this._patResources),\n                Shading: new PDFDictionary(this._shResources)\n            });\n            props.Annots = this._annotations;\n        }, {\n            _out: function () {\n                this._content.data.apply(null, arguments);\n            },\n            transform: function (a, b, c, d, e, f) {\n                if (!isIdentityMatrix(arguments)) {\n                    this._matrix = mmul(arguments, this._matrix);\n                    this._out(a, ' ', b, ' ', c, ' ', d, ' ', e, ' ', f, ' cm');\n                    this._out(NL);\n                }\n            },\n            translate: function (dx, dy) {\n                this.transform(1, 0, 0, 1, dx, dy);\n            },\n            scale: function (sx, sy) {\n                this.transform(sx, 0, 0, sy, 0, 0);\n            },\n            rotate: function (angle) {\n                var cos = Math.cos(angle), sin = Math.sin(angle);\n                this.transform(cos, sin, -sin, cos, 0, 0);\n            },\n            beginText: function () {\n                this._textMode = true;\n                this._out('BT', NL);\n            },\n            endText: function () {\n                this._textMode = false;\n                this._out('ET', NL);\n            },\n            _requireTextMode: function () {\n                if (!this._textMode) {\n                    throw new Error('Text mode required; call page.beginText() first');\n                }\n            },\n            _requireFont: function () {\n                if (!this._font) {\n                    throw new Error('No font selected; call page.setFont() first');\n                }\n            },\n            setFont: function (font, size) {\n                this._requireTextMode();\n                if (font == null) {\n                    font = this._font;\n                } else if (!(font instanceof PDFFont)) {\n                    font = this._pdf.getFont(font);\n                }\n                if (size == null) {\n                    size = this._fontSize;\n                }\n                this._fontResources[font._resourceName] = font;\n                this._font = font;\n                this._fontSize = size;\n                this._out(font._resourceName, ' ', size, ' Tf', NL);\n            },\n            setTextLeading: function (size) {\n                this._requireTextMode();\n                this._out(size, ' TL', NL);\n            },\n            setTextRenderingMode: function (mode) {\n                this._requireTextMode();\n                this._out(mode, ' Tr', NL);\n            },\n            showText: function (text, requestedWidth) {\n                this._requireFont();\n                if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {\n                    var outputWidth = this._font.getTextWidth(this._fontSize, text);\n                    var scale = requestedWidth / outputWidth * 100;\n                    this._out(scale, ' Tz ');\n                }\n                this._out(this._font.encodeText(text), ' Tj', NL);\n            },\n            showTextNL: function (text) {\n                this._requireFont();\n                this._out(this._font.encodeText(text), ' \\'', NL);\n            },\n            addLink: function (uri, box) {\n                var ll = this._toPage({\n                    x: box.left,\n                    y: box.bottom\n                });\n                var ur = this._toPage({\n                    x: box.right,\n                    y: box.top\n                });\n                this._annotations.push(new PDFDictionary({\n                    Type: _('Annot'),\n                    Subtype: _('Link'),\n                    Rect: [\n                        ll.x,\n                        ll.y,\n                        ur.x,\n                        ur.y\n                    ],\n                    Border: [\n                        0,\n                        0,\n                        0\n                    ],\n                    A: new PDFDictionary({\n                        Type: _('Action'),\n                        S: _('URI'),\n                        URI: new PDFString(uri)\n                    })\n                }));\n            },\n            setStrokeColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' RG', NL);\n            },\n            setOpacity: function (opacity) {\n                this.setFillOpacity(opacity);\n                this.setStrokeOpacity(opacity);\n                this._opacity *= opacity;\n            },\n            setStrokeOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            setFillColor: function (r, g, b) {\n                this._out(r, ' ', g, ' ', b, ' rg', NL);\n            },\n            setFillOpacity: function (opacity) {\n                if (opacity < 1) {\n                    var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);\n                    this._gsResources[gs._resourceName] = gs;\n                    this._out(gs._resourceName, ' gs', NL);\n                }\n            },\n            gradient: function (gradient, box) {\n                this.save();\n                this.rect(box.left, box.top, box.width, box.height);\n                this.clip();\n                if (!gradient.userSpace) {\n                    this.transform(box.width, 0, 0, box.height, box.left, box.top);\n                }\n                var g = cacheGradient(this._pdf, gradient, box);\n                var sname = g.shading._resourceName, oname;\n                this._shResources[sname] = g.shading;\n                if (g.hasAlpha) {\n                    oname = g.opacity._resourceName;\n                    this._gsResources[oname] = g.opacity;\n                    this._out('/' + oname + ' gs ');\n                }\n                this._out('/' + sname + ' sh', NL);\n                this.restore();\n            },\n            setDashPattern: function (dashArray, dashPhase) {\n                this._out(dashArray, ' ', dashPhase, ' d', NL);\n            },\n            setLineWidth: function (width) {\n                this._out(width, ' w', NL);\n            },\n            setLineCap: function (lineCap) {\n                this._out(lineCap, ' J', NL);\n            },\n            setLineJoin: function (lineJoin) {\n                this._out(lineJoin, ' j', NL);\n            },\n            setMitterLimit: function (mitterLimit) {\n                this._out(mitterLimit, ' M', NL);\n            },\n            save: function () {\n                this._contextStack.push(this._context());\n                this._out('q', NL);\n            },\n            restore: function () {\n                this._out('Q', NL);\n                this._context(this._contextStack.pop());\n            },\n            moveTo: function (x, y) {\n                this._out(x, ' ', y, ' m', NL);\n            },\n            lineTo: function (x, y) {\n                this._out(x, ' ', y, ' l', NL);\n            },\n            bezier: function (x1, y1, x2, y2, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x2, ' ', y2, ' ', x3, ' ', y3, ' c', NL);\n            },\n            bezier1: function (x1, y1, x3, y3) {\n                this._out(x1, ' ', y1, ' ', x3, ' ', y3, ' y', NL);\n            },\n            bezier2: function (x2, y2, x3, y3) {\n                this._out(x2, ' ', y2, ' ', x3, ' ', y3, ' v', NL);\n            },\n            close: function () {\n                this._out('h', NL);\n            },\n            rect: function (x, y, w, h) {\n                this._out(x, ' ', y, ' ', w, ' ', h, ' re', NL);\n            },\n            ellipse: function (x, y, rx, ry) {\n                function _X(v) {\n                    return x + v;\n                }\n                function _Y(v) {\n                    return y + v;\n                }\n                var k = 0.5522847498307936;\n                this.moveTo(_X(0), _Y(ry));\n                this.bezier(_X(rx * k), _Y(ry), _X(rx), _Y(ry * k), _X(rx), _Y(0));\n                this.bezier(_X(rx), _Y(-ry * k), _X(rx * k), _Y(-ry), _X(0), _Y(-ry));\n                this.bezier(_X(-rx * k), _Y(-ry), _X(-rx), _Y(-ry * k), _X(-rx), _Y(0));\n                this.bezier(_X(-rx), _Y(ry * k), _X(-rx * k), _Y(ry), _X(0), _Y(ry));\n            },\n            circle: function (x, y, r) {\n                this.ellipse(x, y, r, r);\n            },\n            stroke: function () {\n                this._out('S', NL);\n            },\n            nop: function () {\n                this._out('n', NL);\n            },\n            clip: function () {\n                this._out('W n', NL);\n            },\n            clipStroke: function () {\n                this._out('W S', NL);\n            },\n            closeStroke: function () {\n                this._out('s', NL);\n            },\n            fill: function () {\n                this._out('f', NL);\n            },\n            fillStroke: function () {\n                this._out('B', NL);\n            },\n            drawImage: function (url) {\n                var img = this._pdf.getImage(url);\n                if (img) {\n                    this._xResources[img._resourceName] = img;\n                    this._out(img._resourceName, ' Do', NL);\n                }\n            },\n            comment: function (txt) {\n                var self = this;\n                txt.split(/\\r?\\n/g).forEach(function (line) {\n                    self._out('% ', line, NL);\n                });\n            },\n            _context: function (val) {\n                if (val != null) {\n                    this._opacity = val.opacity;\n                    this._matrix = val.matrix;\n                } else {\n                    return {\n                        opacity: this._opacity,\n                        matrix: this._matrix\n                    };\n                }\n            },\n            _toPage: function (p) {\n                var m = this._matrix;\n                var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n                return {\n                    x: a * p.x + c * p.y + e,\n                    y: b * p.x + d * p.y + f\n                };\n            }\n        }, PDFDictionary);\n        function unquote(str) {\n            return str.replace(/^\\s*(['\"])(.*)\\1\\s*$/, '$2');\n        }\n        function parseFontDef(fontdef) {\n            var rx = /^\\s*((normal|italic)\\s+)?((normal|small-caps)\\s+)?((normal|bold|\\d+)\\s+)?(([0-9.]+)(px|pt))(\\/(([0-9.]+)(px|pt)|normal))?\\s+(.*?)\\s*$/i;\n            var m = rx.exec(fontdef);\n            if (!m) {\n                return {\n                    fontSize: 12,\n                    fontFamily: 'sans-serif'\n                };\n            }\n            var fontSize = m[8] ? parseInt(m[8], 10) : 12;\n            return {\n                italic: m[2] && m[2].toLowerCase() == 'italic',\n                variant: m[4],\n                bold: m[6] && /bold|700/i.test(m[6]),\n                fontSize: fontSize,\n                lineHeight: m[12] ? m[12] == 'normal' ? fontSize : parseInt(m[12], 10) : null,\n                fontFamily: m[14].split(/\\s*,\\s*/g).map(unquote)\n            };\n        }\n        function getFontURL(style) {\n            function mkFamily(name) {\n                if (style.bold) {\n                    name += '|bold';\n                }\n                if (style.italic) {\n                    name += '|italic';\n                }\n                return name.toLowerCase();\n            }\n            var fontFamily = style.fontFamily;\n            var name, url;\n            if (fontFamily instanceof Array) {\n                for (var i = 0; i < fontFamily.length; ++i) {\n                    name = mkFamily(fontFamily[i]);\n                    url = FONT_MAPPINGS[name];\n                    if (url) {\n                        break;\n                    }\n                }\n            } else {\n                url = FONT_MAPPINGS[fontFamily.toLowerCase()];\n            }\n            while (typeof url == 'function') {\n                url = url();\n            }\n            if (!url) {\n                url = 'Times-Roman';\n            }\n            return url;\n        }\n        var FONT_MAPPINGS = {\n            'serif': 'Times-Roman',\n            'serif|bold': 'Times-Bold',\n            'serif|italic': 'Times-Italic',\n            'serif|bold|italic': 'Times-BoldItalic',\n            'sans-serif': 'Helvetica',\n            'sans-serif|bold': 'Helvetica-Bold',\n            'sans-serif|italic': 'Helvetica-Oblique',\n            'sans-serif|bold|italic': 'Helvetica-BoldOblique',\n            'monospace': 'Courier',\n            'monospace|bold': 'Courier-Bold',\n            'monospace|italic': 'Courier-Oblique',\n            'monospace|bold|italic': 'Courier-BoldOblique',\n            'zapfdingbats': 'ZapfDingbats',\n            'zapfdingbats|bold': 'ZapfDingbats',\n            'zapfdingbats|italic': 'ZapfDingbats',\n            'zapfdingbats|bold|italic': 'ZapfDingbats'\n        };\n        function fontAlias(alias, name) {\n            alias = alias.toLowerCase();\n            FONT_MAPPINGS[alias] = function () {\n                return FONT_MAPPINGS[name];\n            };\n            FONT_MAPPINGS[alias + '|bold'] = function () {\n                return FONT_MAPPINGS[name + '|bold'];\n            };\n            FONT_MAPPINGS[alias + '|italic'] = function () {\n                return FONT_MAPPINGS[name + '|italic'];\n            };\n            FONT_MAPPINGS[alias + '|bold|italic'] = function () {\n                return FONT_MAPPINGS[name + '|bold|italic'];\n            };\n        }\n        fontAlias('Times New Roman', 'serif');\n        fontAlias('Courier New', 'monospace');\n        fontAlias('Arial', 'sans-serif');\n        fontAlias('Helvetica', 'sans-serif');\n        fontAlias('Verdana', 'sans-serif');\n        fontAlias('Tahoma', 'sans-serif');\n        fontAlias('Georgia', 'sans-serif');\n        fontAlias('Monaco', 'monospace');\n        fontAlias('Andale Mono', 'monospace');\n        function defineFont(name, url) {\n            if (arguments.length == 1) {\n                for (var i in name) {\n                    if (hasOwnProperty(name, i)) {\n                        defineFont(i, name[i]);\n                    }\n                }\n            } else {\n                name = name.toLowerCase();\n                FONT_MAPPINGS[name] = url;\n                switch (name) {\n                case 'dejavu sans':\n                    FONT_MAPPINGS['sans-serif'] = url;\n                    break;\n                case 'dejavu sans|bold':\n                    FONT_MAPPINGS['sans-serif|bold'] = url;\n                    break;\n                case 'dejavu sans|italic':\n                    FONT_MAPPINGS['sans-serif|italic'] = url;\n                    break;\n                case 'dejavu sans|bold|italic':\n                    FONT_MAPPINGS['sans-serif|bold|italic'] = url;\n                    break;\n                case 'dejavu serif':\n                    FONT_MAPPINGS['serif'] = url;\n                    break;\n                case 'dejavu serif|bold':\n                    FONT_MAPPINGS['serif|bold'] = url;\n                    break;\n                case 'dejavu serif|italic':\n                    FONT_MAPPINGS['serif|italic'] = url;\n                    break;\n                case 'dejavu serif|bold|italic':\n                    FONT_MAPPINGS['serif|bold|italic'] = url;\n                    break;\n                case 'dejavu mono':\n                    FONT_MAPPINGS['monospace'] = url;\n                    break;\n                case 'dejavu mono|bold':\n                    FONT_MAPPINGS['monospace|bold'] = url;\n                    break;\n                case 'dejavu mono|italic':\n                    FONT_MAPPINGS['monospace|italic'] = url;\n                    break;\n                case 'dejavu mono|bold|italic':\n                    FONT_MAPPINGS['monospace|bold|italic'] = url;\n                    break;\n                }\n            }\n        }\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n        function isIdentityMatrix(m) {\n            return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n        }\n        var TEXT_RENDERING_MODE = {\n            fill: 0,\n            stroke: 1,\n            fillAndStroke: 2,\n            invisible: 3,\n            fillAndClip: 4,\n            strokeAndClip: 5,\n            fillStrokeClip: 6,\n            clip: 7\n        };\n        var TEXT_RENDERING_MODE$1 = TEXT_RENDERING_MODE;\n        var DASH_PATTERNS = {\n            dash: [4],\n            dashDot: [\n                4,\n                2,\n                1,\n                2\n            ],\n            dot: [\n                1,\n                2\n            ],\n            longDash: [\n                8,\n                2\n            ],\n            longDashDot: [\n                8,\n                2,\n                1,\n                2\n            ],\n            longDashDotDot: [\n                8,\n                2,\n                1,\n                2,\n                1,\n                2\n            ],\n            solid: []\n        };\n        var LINE_CAP = {\n            butt: 0,\n            round: 1,\n            square: 2\n        };\n        var LINE_JOIN = {\n            miter: 0,\n            round: 1,\n            bevel: 2\n        };\n        function render(group, callback) {\n            var fonts = [], images = {}, options = group.options;\n            function getOption(name, defval, hash) {\n                if (!hash) {\n                    hash = options;\n                }\n                if (hash.pdf && hash.pdf[name] != null) {\n                    return hash.pdf[name];\n                }\n                return defval;\n            }\n            var multiPage = getOption('multiPage');\n            var imgDPI = getOption('imgDPI');\n            if (imgDPI) {\n                clearImageCache();\n            }\n            group.traverse(function (element) {\n                dispatch({\n                    Image: function (element) {\n                        var url = element.src();\n                        if (imgDPI) {\n                            var box = element.bbox().size;\n                            var prev = images[url];\n                            box = {\n                                width: Math.ceil(box.width * imgDPI / 72),\n                                height: Math.ceil(box.height * imgDPI / 72)\n                            };\n                            if (prev) {\n                                box.width = Math.max(prev.width, box.width);\n                                box.height = Math.max(prev.height, box.height);\n                            }\n                            images[url] = box;\n                        } else {\n                            images[url] = null;\n                        }\n                    },\n                    Text: function (element) {\n                        var style = parseFontDef(element.options.font);\n                        var url = getFontURL(style);\n                        if (fonts.indexOf(url) < 0) {\n                            fonts.push(url);\n                        }\n                    }\n                }, element);\n            });\n            function doIt() {\n                if (--count > 0) {\n                    return;\n                }\n                var pdf = new PDFDocument({\n                    producer: getOption('producer'),\n                    title: getOption('title'),\n                    author: getOption('author'),\n                    subject: getOption('subject'),\n                    keywords: getOption('keywords'),\n                    creator: getOption('creator'),\n                    date: getOption('date'),\n                    autoPrint: getOption('autoPrint')\n                });\n                function drawPage(group) {\n                    var options = group.options;\n                    var tmp = optimize(group);\n                    var bbox = tmp.bbox;\n                    group = tmp.root;\n                    var paperSize = getOption('paperSize', getOption('paperSize', 'auto'), options), addMargin = false;\n                    if (paperSize == 'auto') {\n                        if (bbox) {\n                            var size = bbox.getSize();\n                            paperSize = [\n                                size.width,\n                                size.height\n                            ];\n                            addMargin = true;\n                            var origin = bbox.getOrigin();\n                            tmp = new drawing.Group();\n                            tmp.transform(new kendoGeometry.Matrix(1, 0, 0, 1, -origin.x, -origin.y));\n                            tmp.append(group);\n                            group = tmp;\n                        } else {\n                            paperSize = 'A4';\n                        }\n                    }\n                    var page;\n                    page = pdf.addPage({\n                        paperSize: paperSize,\n                        margin: getOption('margin', getOption('margin'), options),\n                        addMargin: addMargin,\n                        landscape: getOption('landscape', getOption('landscape', false), options)\n                    });\n                    drawElement(group, page, pdf);\n                }\n                if (multiPage) {\n                    group.children.forEach(drawPage);\n                } else {\n                    drawPage(group);\n                }\n                callback(pdf.render(), pdf);\n            }\n            var count = 2;\n            loadFonts(fonts, doIt);\n            loadImages(images, doIt);\n        }\n        function toDataURL(group, callback) {\n            render(group, function (data) {\n                callback('data:application/pdf;base64,' + data.base64());\n            });\n        }\n        function toBlob(group, callback) {\n            render(group, function (data) {\n                callback(new window.Blob([data.get()], { type: 'application/pdf' }));\n            });\n        }\n        function saveAs$1(group, filename, proxy, callback) {\n            if (window.Blob && !supportBrowser.safari) {\n                toBlob(group, function (blob) {\n                    kendo.saveAs({\n                        dataURI: blob,\n                        fileName: filename\n                    });\n                    if (callback) {\n                        callback(blob);\n                    }\n                });\n            } else {\n                toDataURL(group, function (dataURL) {\n                    kendo.saveAs({\n                        dataURI: dataURL,\n                        fileName: filename,\n                        proxyURL: proxy\n                    });\n                    if (callback) {\n                        callback(dataURL);\n                    }\n                });\n            }\n        }\n        function dispatch(handlers, element) {\n            var handler = handlers[element.nodeType];\n            if (handler) {\n                return handler.call.apply(handler, arguments);\n            }\n            return element;\n        }\n        function drawElement(element, page, pdf) {\n            if (element.options._pdfDebug) {\n                page.comment('BEGIN: ' + element.options._pdfDebug);\n            }\n            var transform = element.transform();\n            var opacity = element.opacity();\n            page.save();\n            if (opacity != null && opacity < 1) {\n                page.setOpacity(opacity);\n            }\n            setStrokeOptions(element, page, pdf);\n            setFillOptions(element, page, pdf);\n            if (transform) {\n                var m = transform.matrix();\n                page.transform(m.a, m.b, m.c, m.d, m.e, m.f);\n            }\n            setClipping(element, page, pdf);\n            dispatch({\n                Path: drawPath,\n                MultiPath: drawMultiPath,\n                Circle: drawCircle,\n                Arc: drawArc,\n                Text: drawText,\n                Image: drawImage,\n                Group: drawGroup,\n                Rect: drawRect\n            }, element, page, pdf);\n            page.restore();\n            if (element.options._pdfDebug) {\n                page.comment('END: ' + element.options._pdfDebug);\n            }\n        }\n        function setStrokeOptions(element, page) {\n            var stroke = element.stroke && element.stroke();\n            if (!stroke) {\n                return;\n            }\n            var color = stroke.color;\n            if (color) {\n                color = parseColor$1(color);\n                if (color == null) {\n                    return;\n                }\n                page.setStrokeColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setStrokeOpacity(color.a);\n                }\n            }\n            var width = stroke.width;\n            if (width != null) {\n                if (width === 0) {\n                    return;\n                }\n                page.setLineWidth(width);\n            }\n            var dashType = stroke.dashType;\n            if (dashType) {\n                page.setDashPattern(DASH_PATTERNS[dashType], 0);\n            }\n            var lineCap = stroke.lineCap;\n            if (lineCap) {\n                page.setLineCap(LINE_CAP[lineCap]);\n            }\n            var lineJoin = stroke.lineJoin;\n            if (lineJoin) {\n                page.setLineJoin(LINE_JOIN[lineJoin]);\n            }\n            var opacity = stroke.opacity;\n            if (opacity != null) {\n                page.setStrokeOpacity(opacity);\n            }\n        }\n        function setFillOptions(element, page) {\n            var fill = element.fill && element.fill();\n            if (!fill) {\n                return;\n            }\n            if (fill instanceof drawing.Gradient) {\n                return;\n            }\n            var color = fill.color;\n            if (color) {\n                color = parseColor$1(color);\n                if (color == null) {\n                    return;\n                }\n                page.setFillColor(color.r, color.g, color.b);\n                if (color.a != 1) {\n                    page.setFillOpacity(color.a);\n                }\n            }\n            var opacity = fill.opacity;\n            if (opacity != null) {\n                page.setFillOpacity(opacity);\n            }\n        }\n        function setClipping(element, page, pdf) {\n            var clip = element.clip();\n            if (clip) {\n                _drawPath(clip, page, pdf);\n                page.clip();\n            }\n        }\n        function shouldDraw(thing) {\n            return thing && (thing instanceof drawing.Gradient || thing.color && !/^(none|transparent)$/i.test(thing.color) && (thing.width == null || thing.width > 0) && (thing.opacity == null || thing.opacity > 0));\n        }\n        function maybeGradient(element, page, pdf, stroke) {\n            var fill = element.fill();\n            if (fill instanceof drawing.Gradient) {\n                if (stroke) {\n                    page.clipStroke();\n                } else {\n                    page.clip();\n                }\n                var isRadial = fill instanceof drawing.RadialGradient;\n                var start, end;\n                if (isRadial) {\n                    start = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: 0\n                    };\n                    end = {\n                        x: fill.center().x,\n                        y: fill.center().y,\n                        r: fill.radius()\n                    };\n                } else {\n                    start = {\n                        x: fill.start().x,\n                        y: fill.start().y\n                    };\n                    end = {\n                        x: fill.end().x,\n                        y: fill.end().y\n                    };\n                }\n                var stops = fill.stops.elements().map(function (stop) {\n                    var offset = stop.offset();\n                    if (/%$/.test(offset)) {\n                        offset = parseFloat(offset) / 100;\n                    } else {\n                        offset = parseFloat(offset);\n                    }\n                    var color = parseColor$1(stop.color());\n                    color.a *= stop.opacity();\n                    return {\n                        offset: offset,\n                        color: color\n                    };\n                });\n                stops.unshift(stops[0]);\n                stops.push(stops[stops.length - 1]);\n                var gradient = {\n                    userSpace: fill.userSpace(),\n                    type: isRadial ? 'radial' : 'linear',\n                    start: start,\n                    end: end,\n                    stops: stops\n                };\n                var box = element.rawBBox();\n                var tl = box.topLeft(), size = box.getSize();\n                box = {\n                    left: tl.x,\n                    top: tl.y,\n                    width: size.width,\n                    height: size.height\n                };\n                page.gradient(gradient, box);\n                return true;\n            }\n        }\n        function maybeFillStroke(element, page, pdf) {\n            if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {\n                if (!maybeGradient(element, page, pdf, true)) {\n                    page.fillStroke();\n                }\n            } else if (shouldDraw(element.fill())) {\n                if (!maybeGradient(element, page, pdf, false)) {\n                    page.fill();\n                }\n            } else if (shouldDraw(element.stroke())) {\n                page.stroke();\n            } else {\n                page.nop();\n            }\n        }\n        function maybeDrawRect(path, page) {\n            var segments = path.segments;\n            if (segments.length == 4 && path.options.closed) {\n                var a = [];\n                for (var i = 0; i < segments.length; ++i) {\n                    if (segments[i].controlIn()) {\n                        return false;\n                    }\n                    a[i] = segments[i].anchor();\n                }\n                var isRect = a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x || a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y;\n                if (isRect) {\n                    page.rect(a[0].x, a[0].y, a[2].x - a[0].x, a[2].y - a[0].y);\n                    return true;\n                }\n            }\n        }\n        function _drawPath(element, page, pdf) {\n            var segments = element.segments;\n            if (segments.length === 0) {\n                return;\n            }\n            if (!maybeDrawRect(element, page, pdf)) {\n                for (var prev, i = 0; i < segments.length; ++i) {\n                    var seg = segments[i];\n                    var anchor = seg.anchor();\n                    if (!prev) {\n                        page.moveTo(anchor.x, anchor.y);\n                    } else {\n                        var prevOut = prev.controlOut();\n                        var controlIn = seg.controlIn();\n                        if (prevOut && controlIn) {\n                            page.bezier(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                        } else {\n                            page.lineTo(anchor.x, anchor.y);\n                        }\n                    }\n                    prev = seg;\n                }\n                if (element.options.closed) {\n                    page.close();\n                }\n            }\n        }\n        function drawPath(element, page, pdf) {\n            _drawPath(element, page, pdf);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawMultiPath(element, page, pdf) {\n            var paths = element.paths;\n            for (var i = 0; i < paths.length; ++i) {\n                _drawPath(paths[i], page, pdf);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawCircle(element, page, pdf) {\n            var g = element.geometry();\n            page.circle(g.center.x, g.center.y, g.radius);\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawArc(element, page, pdf) {\n            var points = element.geometry().curvePoints();\n            page.moveTo(points[0].x, points[0].y);\n            for (var i = 1; i < points.length;) {\n                page.bezier(points[i].x, points[i++].y, points[i].x, points[i++].y, points[i].x, points[i++].y);\n            }\n            maybeFillStroke(element, page, pdf);\n        }\n        function drawText(element, page) {\n            var style = parseFontDef(element.options.font);\n            var pos = element._position;\n            var mode;\n            if (element.fill() && element.stroke()) {\n                mode = TEXT_RENDERING_MODE$1.fillAndStroke;\n            } else if (element.fill()) {\n                mode = TEXT_RENDERING_MODE$1.fill;\n            } else if (element.stroke()) {\n                mode = TEXT_RENDERING_MODE$1.stroke;\n            }\n            page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);\n            page.beginText();\n            page.setFont(getFontURL(style), style.fontSize);\n            page.setTextRenderingMode(mode);\n            page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);\n            page.endText();\n        }\n        function drawGroup(element, page, pdf) {\n            if (element._pdfLink) {\n                page.addLink(element._pdfLink.url, element._pdfLink);\n            }\n            var children = element.children;\n            for (var i = 0; i < children.length; ++i) {\n                drawElement(children[i], page, pdf);\n            }\n        }\n        function drawImage(element, page) {\n            var url = element.src();\n            if (!url) {\n                return;\n            }\n            var rect = element.rect();\n            var tl = rect.getOrigin();\n            var sz = rect.getSize();\n            page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);\n            page.drawImage(url);\n        }\n        function drawRect(element, page, pdf) {\n            var geometry = element.geometry();\n            page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);\n            maybeFillStroke(element, page, pdf);\n        }\n        function parseColor$1(value) {\n            var color = kendo.parseColor(value, true);\n            return color ? color.toRGB() : null;\n        }\n        function optimize(root) {\n            var clipbox = false;\n            var matrix = kendoGeometry.Matrix.unit();\n            var currentBox = null;\n            var changed;\n            do {\n                changed = false;\n                root = opt(root);\n            } while (root && changed);\n            return {\n                root: root,\n                bbox: currentBox\n            };\n            function change(newShape) {\n                changed = true;\n                return newShape;\n            }\n            function visible(shape) {\n                return shape.visible() && shape.opacity() > 0 && (shouldDraw(shape.fill()) || shouldDraw(shape.stroke()));\n            }\n            function optArray(a) {\n                var b = [];\n                for (var i = 0; i < a.length; ++i) {\n                    var el = opt(a[i]);\n                    if (el != null) {\n                        b.push(el);\n                    }\n                }\n                return b;\n            }\n            function withClipping(shape, f) {\n                var saveclipbox = clipbox;\n                var savematrix = matrix;\n                if (shape.transform()) {\n                    matrix = matrix.multiplyCopy(shape.transform().matrix());\n                }\n                var clip = shape.clip();\n                if (clip) {\n                    clip = clip.bbox();\n                    if (clip) {\n                        clip = clip.bbox(matrix);\n                        clipbox = clipbox ? kendoGeometry.Rect.intersect(clipbox, clip) : clip;\n                    }\n                }\n                try {\n                    return f();\n                } finally {\n                    clipbox = saveclipbox;\n                    matrix = savematrix;\n                }\n            }\n            function inClipbox(shape) {\n                if (clipbox == null) {\n                    return false;\n                }\n                var box = shape.rawBBox().bbox(matrix);\n                if (clipbox && box) {\n                    box = kendoGeometry.Rect.intersect(box, clipbox);\n                }\n                return box;\n            }\n            function opt(shape) {\n                return withClipping(shape, function () {\n                    if (!(shape instanceof drawing.Group || shape instanceof drawing.MultiPath)) {\n                        var box = inClipbox(shape);\n                        if (!box) {\n                            return change(null);\n                        }\n                        currentBox = currentBox ? kendoGeometry.Rect.union(currentBox, box) : box;\n                    }\n                    return dispatch({\n                        Path: function (shape) {\n                            if (shape.segments.length === 0 || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        MultiPath: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            var el = new drawing.MultiPath(shape.options);\n                            el.paths = optArray(shape.paths);\n                            if (el.paths.length === 0) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Circle: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Arc: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Text: function (shape) {\n                            if (!/\\S/.test(shape.content()) || !visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Image: function (shape) {\n                            if (!(shape.visible() && shape.opacity() > 0)) {\n                                return change(null);\n                            }\n                            return shape;\n                        },\n                        Group: function (shape) {\n                            var el = new drawing.Group(shape.options);\n                            el.children = optArray(shape.children);\n                            el._pdfLink = shape._pdfLink;\n                            if (shape !== root && el.children.length === 0 && !shape._pdfLink) {\n                                return change(null);\n                            }\n                            return el;\n                        },\n                        Rect: function (shape) {\n                            if (!visible(shape)) {\n                                return change(null);\n                            }\n                            return shape;\n                        }\n                    }, shape);\n                });\n            }\n        }\n        function exportPDF(group, options) {\n            var promise = util.createPromise();\n            for (var i in options) {\n                if (i == 'margin' && group.options.pdf && group.options.pdf._ignoreMargin) {\n                    continue;\n                }\n                group.options.set('pdf.' + i, options[i]);\n            }\n            toDataURL(group, promise.resolve);\n            return promise;\n        }\n        kendo.deepExtend(kendo.pdf, {\n            Document: PDFDocument,\n            BinaryStream: BinaryStream,\n            defineFont: defineFont,\n            parseFontDef: parseFontDef,\n            getFontURL: getFontURL,\n            loadFonts: loadFonts,\n            loadImages: loadImages,\n            getPaperOptions: getPaperOptions,\n            clearImageCache: clearImageCache,\n            TEXT_RENDERING_MODE: TEXT_RENDERING_MODE,\n            exportPDF: exportPDF,\n            saveAs: saveAs$1,\n            toDataURL: toDataURL,\n            toBlob: toBlob,\n            render: render\n        });\n        kendo.drawing.exportPDF = kendo.pdf.exportPDF;\n        kendo.drawing.pdf = kendo.pdf;\n    }(kendo));\n    return kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdf/mixins', ['pdf/core'], f);\n}(function () {\n    (function ($, undefined) {\n        kendo.PDFMixin = {\n            extend: function (proto) {\n                proto.events.push('pdfExport');\n                proto.options.pdf = this.options;\n                proto.saveAsPDF = this.saveAsPDF;\n                proto._drawPDF = this._drawPDF;\n                proto._drawPDFShadow = this._drawPDFShadow;\n            },\n            options: {\n                fileName: 'Export.pdf',\n                proxyURL: '',\n                paperSize: 'auto',\n                allPages: false,\n                landscape: false,\n                margin: null,\n                title: null,\n                author: null,\n                subject: null,\n                keywords: null,\n                creator: 'Kendo UI PDF Generator v.' + kendo.version,\n                date: null\n            },\n            saveAsPDF: function () {\n                var progress = new $.Deferred();\n                var promise = progress.promise();\n                var args = { promise: promise };\n                if (this.trigger('pdfExport', args)) {\n                    return;\n                }\n                var options = this.options.pdf;\n                options.multiPage = options.multiPage || options.allPages;\n                this._drawPDF(progress).then(function (root) {\n                    return kendo.drawing.exportPDF(root, options);\n                }).done(function (dataURI) {\n                    kendo.saveAs({\n                        dataURI: dataURI,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL,\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                    progress.resolve();\n                }).fail(function (err) {\n                    progress.reject(err);\n                });\n                return promise;\n            },\n            _drawPDF: function (progress) {\n                var promise = new $.Deferred();\n                kendo.drawing.drawDOM(this.wrapper).done(function (group) {\n                    var args = {\n                        page: group,\n                        pageNumber: 1,\n                        progress: 1,\n                        totalPages: 1\n                    };\n                    progress.notify(args);\n                    promise.resolve(args.page);\n                }).fail(function (err) {\n                    promise.reject(err);\n                });\n                return promise;\n            },\n            _drawPDFShadow: function (settings, drawOptions) {\n                settings = settings || {};\n                var wrapper = this.wrapper;\n                var shadow = $('<div class=\\'k-pdf-export-shadow\\'>');\n                if (settings.width) {\n                    shadow.css({\n                        width: settings.width,\n                        overflow: 'visible'\n                    });\n                }\n                wrapper.before(shadow);\n                shadow.append(settings.content || wrapper.clone(true, true));\n                var defer = $.Deferred();\n                setTimeout(function () {\n                    var promise = kendo.drawing.drawDOM(shadow, drawOptions);\n                    promise.always(function () {\n                        shadow.remove();\n                    }).then(function () {\n                        defer.resolve.apply(defer, arguments);\n                    }).fail(function () {\n                        defer.reject.apply(defer, arguments);\n                    }).progress(function () {\n                        defer.progress.apply(defer, arguments);\n                    });\n                }, 15);\n                return defer.promise();\n            }\n        };\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.pdf', [\n        'kendo.core',\n        'kendo.drawing',\n        'pdf/core',\n        'pdf/mixins'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'pdf',\n        name: 'PDF export',\n        description: 'PDF Generation framework',\n        mixin: true,\n        category: 'framework',\n        depends: [\n            'core',\n            'drawing'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}